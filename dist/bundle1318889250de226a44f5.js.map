{"version":3,"file":"bundle1318889250de226a44f5.js","mappings":"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","sources":["webpack://consentstringdecoder/./node_modules/nunjucks/browser/nunjucks-slim.js","webpack://consentstringdecoder/./node_modules/simple-nunjucks-loader/lib/cjs/WebpackPrecompiledLoader.js","webpack://consentstringdecoder/./src/templates/accordion.njk","webpack://consentstringdecoder/./src/templates/results.njk","webpack://consentstringdecoder/./src/templates/tabledata.njk","webpack://consentstringdecoder/./node_modules/simple-nunjucks-loader/lib/cjs/runtime.js","webpack://consentstringdecoder/webpack/bootstrap","webpack://consentstringdecoder/webpack/runtime/compat get default export","webpack://consentstringdecoder/webpack/runtime/define property getters","webpack://consentstringdecoder/webpack/runtime/hasOwnProperty shorthand","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/errors/EncodingError.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/errors/DecodingError.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/encoder/Base64Url.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/model/ConsentLanguages.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/model/Fields.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/Cloneable.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/errors/TCModelError.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/model/RestrictionType.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/model/DeviceDisclosureStorageAccessType.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/model/Segment.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/encoder/field/VectorEncodingType.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/model/PurposeRestriction.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/model/BinarySearchTree.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/model/PurposeRestrictionVector.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/model/SegmentIDs.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/model/Vector.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/encoder/BitLength.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/encoder/field/BooleanEncoder.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/encoder/field/IntEncoder.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/encoder/field/DateEncoder.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/encoder/field/FixedVectorEncoder.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/encoder/field/LangEncoder.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/encoder/field/PurposeRestrictionVectorEncoder.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/encoder/field/VendorVectorEncoder.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/encoder/field/FieldEncoderMap.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/encoder/sequence/FieldSequence.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/encoder/sequence/SegmentSequence.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/encoder/SegmentEncoder.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/encoder/SemanticPreEncoder.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/errors/GVLError.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/Json.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/GVL.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/TCModel.js","webpack://consentstringdecoder/./node_modules/@iabtcf/core/lib/mjs/TCString.js","webpack://consentstringdecoder/./src/index.js"],"sourcesContent":["/*! Browser bundle of nunjucks 3.2.4 (slim, only works with precompiled templates) */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"nunjucks\"] = factory();\n\telse\n\t\troot[\"nunjucks\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar ArrayProto = Array.prototype;\nvar ObjProto = Object.prototype;\nvar escapeMap = {\n  '&': '&amp;',\n  '\"': '&quot;',\n  '\\'': '&#39;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\\\\': '&#92;'\n};\nvar escapeRegex = /[&\"'<>\\\\]/g;\nvar exports = module.exports = {};\nfunction hasOwnProp(obj, k) {\n  return ObjProto.hasOwnProperty.call(obj, k);\n}\nexports.hasOwnProp = hasOwnProp;\nfunction lookupEscape(ch) {\n  return escapeMap[ch];\n}\nfunction _prettifyError(path, withInternals, err) {\n  if (!err.Update) {\n    // not one of ours, cast it\n    err = new exports.TemplateError(err);\n  }\n  err.Update(path);\n\n  // Unless they marked the dev flag, show them a trace from here\n  if (!withInternals) {\n    var old = err;\n    err = new Error(old.message);\n    err.name = old.name;\n  }\n  return err;\n}\nexports._prettifyError = _prettifyError;\nfunction TemplateError(message, lineno, colno) {\n  var err;\n  var cause;\n  if (message instanceof Error) {\n    cause = message;\n    message = cause.name + \": \" + cause.message;\n  }\n  if (Object.setPrototypeOf) {\n    err = new Error(message);\n    Object.setPrototypeOf(err, TemplateError.prototype);\n  } else {\n    err = this;\n    Object.defineProperty(err, 'message', {\n      enumerable: false,\n      writable: true,\n      value: message\n    });\n  }\n  Object.defineProperty(err, 'name', {\n    value: 'Template render error'\n  });\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(err, this.constructor);\n  }\n  var getStack;\n  if (cause) {\n    var stackDescriptor = Object.getOwnPropertyDescriptor(cause, 'stack');\n    getStack = stackDescriptor && (stackDescriptor.get || function () {\n      return stackDescriptor.value;\n    });\n    if (!getStack) {\n      getStack = function getStack() {\n        return cause.stack;\n      };\n    }\n  } else {\n    var stack = new Error(message).stack;\n    getStack = function getStack() {\n      return stack;\n    };\n  }\n  Object.defineProperty(err, 'stack', {\n    get: function get() {\n      return getStack.call(err);\n    }\n  });\n  Object.defineProperty(err, 'cause', {\n    value: cause\n  });\n  err.lineno = lineno;\n  err.colno = colno;\n  err.firstUpdate = true;\n  err.Update = function Update(path) {\n    var msg = '(' + (path || 'unknown path') + ')';\n\n    // only show lineno + colno next to path of template\n    // where error occurred\n    if (this.firstUpdate) {\n      if (this.lineno && this.colno) {\n        msg += \" [Line \" + this.lineno + \", Column \" + this.colno + \"]\";\n      } else if (this.lineno) {\n        msg += \" [Line \" + this.lineno + \"]\";\n      }\n    }\n    msg += '\\n ';\n    if (this.firstUpdate) {\n      msg += ' ';\n    }\n    this.message = msg + (this.message || '');\n    this.firstUpdate = false;\n    return this;\n  };\n  return err;\n}\nif (Object.setPrototypeOf) {\n  Object.setPrototypeOf(TemplateError.prototype, Error.prototype);\n} else {\n  TemplateError.prototype = Object.create(Error.prototype, {\n    constructor: {\n      value: TemplateError\n    }\n  });\n}\nexports.TemplateError = TemplateError;\nfunction escape(val) {\n  return val.replace(escapeRegex, lookupEscape);\n}\nexports.escape = escape;\nfunction isFunction(obj) {\n  return ObjProto.toString.call(obj) === '[object Function]';\n}\nexports.isFunction = isFunction;\nfunction isArray(obj) {\n  return ObjProto.toString.call(obj) === '[object Array]';\n}\nexports.isArray = isArray;\nfunction isString(obj) {\n  return ObjProto.toString.call(obj) === '[object String]';\n}\nexports.isString = isString;\nfunction isObject(obj) {\n  return ObjProto.toString.call(obj) === '[object Object]';\n}\nexports.isObject = isObject;\n\n/**\n * @param {string|number} attr\n * @returns {(string|number)[]}\n * @private\n */\nfunction _prepareAttributeParts(attr) {\n  if (!attr) {\n    return [];\n  }\n  if (typeof attr === 'string') {\n    return attr.split('.');\n  }\n  return [attr];\n}\n\n/**\n * @param {string}   attribute      Attribute value. Dots allowed.\n * @returns {function(Object): *}\n */\nfunction getAttrGetter(attribute) {\n  var parts = _prepareAttributeParts(attribute);\n  return function attrGetter(item) {\n    var _item = item;\n    for (var i = 0; i < parts.length; i++) {\n      var part = parts[i];\n\n      // If item is not an object, and we still got parts to handle, it means\n      // that something goes wrong. Just roll out to undefined in that case.\n      if (hasOwnProp(_item, part)) {\n        _item = _item[part];\n      } else {\n        return undefined;\n      }\n    }\n    return _item;\n  };\n}\nexports.getAttrGetter = getAttrGetter;\nfunction groupBy(obj, val, throwOnUndefined) {\n  var result = {};\n  var iterator = isFunction(val) ? val : getAttrGetter(val);\n  for (var i = 0; i < obj.length; i++) {\n    var value = obj[i];\n    var key = iterator(value, i);\n    if (key === undefined && throwOnUndefined === true) {\n      throw new TypeError(\"groupby: attribute \\\"\" + val + \"\\\" resolved to undefined\");\n    }\n    (result[key] || (result[key] = [])).push(value);\n  }\n  return result;\n}\nexports.groupBy = groupBy;\nfunction toArray(obj) {\n  return Array.prototype.slice.call(obj);\n}\nexports.toArray = toArray;\nfunction without(array) {\n  var result = [];\n  if (!array) {\n    return result;\n  }\n  var length = array.length;\n  var contains = toArray(arguments).slice(1);\n  var index = -1;\n  while (++index < length) {\n    if (indexOf(contains, array[index]) === -1) {\n      result.push(array[index]);\n    }\n  }\n  return result;\n}\nexports.without = without;\nfunction repeat(char_, n) {\n  var str = '';\n  for (var i = 0; i < n; i++) {\n    str += char_;\n  }\n  return str;\n}\nexports.repeat = repeat;\nfunction each(obj, func, context) {\n  if (obj == null) {\n    return;\n  }\n  if (ArrayProto.forEach && obj.forEach === ArrayProto.forEach) {\n    obj.forEach(func, context);\n  } else if (obj.length === +obj.length) {\n    for (var i = 0, l = obj.length; i < l; i++) {\n      func.call(context, obj[i], i, obj);\n    }\n  }\n}\nexports.each = each;\nfunction map(obj, func) {\n  var results = [];\n  if (obj == null) {\n    return results;\n  }\n  if (ArrayProto.map && obj.map === ArrayProto.map) {\n    return obj.map(func);\n  }\n  for (var i = 0; i < obj.length; i++) {\n    results[results.length] = func(obj[i], i);\n  }\n  if (obj.length === +obj.length) {\n    results.length = obj.length;\n  }\n  return results;\n}\nexports.map = map;\nfunction asyncIter(arr, iter, cb) {\n  var i = -1;\n  function next() {\n    i++;\n    if (i < arr.length) {\n      iter(arr[i], i, next, cb);\n    } else {\n      cb();\n    }\n  }\n  next();\n}\nexports.asyncIter = asyncIter;\nfunction asyncFor(obj, iter, cb) {\n  var keys = keys_(obj || {});\n  var len = keys.length;\n  var i = -1;\n  function next() {\n    i++;\n    var k = keys[i];\n    if (i < len) {\n      iter(k, obj[k], i, len, next);\n    } else {\n      cb();\n    }\n  }\n  next();\n}\nexports.asyncFor = asyncFor;\nfunction indexOf(arr, searchElement, fromIndex) {\n  return Array.prototype.indexOf.call(arr || [], searchElement, fromIndex);\n}\nexports.indexOf = indexOf;\nfunction keys_(obj) {\n  /* eslint-disable no-restricted-syntax */\n  var arr = [];\n  for (var k in obj) {\n    if (hasOwnProp(obj, k)) {\n      arr.push(k);\n    }\n  }\n  return arr;\n}\nexports.keys = keys_;\nfunction _entries(obj) {\n  return keys_(obj).map(function (k) {\n    return [k, obj[k]];\n  });\n}\nexports._entries = _entries;\nfunction _values(obj) {\n  return keys_(obj).map(function (k) {\n    return obj[k];\n  });\n}\nexports._values = _values;\nfunction extend(obj1, obj2) {\n  obj1 = obj1 || {};\n  keys_(obj2).forEach(function (k) {\n    obj1[k] = obj2[k];\n  });\n  return obj1;\n}\nexports._assign = exports.extend = extend;\nfunction inOperator(key, val) {\n  if (isArray(val) || isString(val)) {\n    return val.indexOf(key) !== -1;\n  } else if (isObject(val)) {\n    return key in val;\n  }\n  throw new Error('Cannot use \"in\" operator to search for \"' + key + '\" in unexpected types.');\n}\nexports.inOperator = inOperator;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar lib = __webpack_require__(1);\nvar arrayFrom = Array.from;\nvar supportsIterators = typeof Symbol === 'function' && Symbol.iterator && typeof arrayFrom === 'function';\n\n// Frames keep track of scoping both at compile-time and run-time so\n// we know how to access variables. Block tags can introduce special\n// variables, for example.\nvar Frame = /*#__PURE__*/function () {\n  function Frame(parent, isolateWrites) {\n    this.variables = Object.create(null);\n    this.parent = parent;\n    this.topLevel = false;\n    // if this is true, writes (set) should never propagate upwards past\n    // this frame to its parent (though reads may).\n    this.isolateWrites = isolateWrites;\n  }\n  var _proto = Frame.prototype;\n  _proto.set = function set(name, val, resolveUp) {\n    // Allow variables with dots by automatically creating the\n    // nested structure\n    var parts = name.split('.');\n    var obj = this.variables;\n    var frame = this;\n    if (resolveUp) {\n      if (frame = this.resolve(parts[0], true)) {\n        frame.set(name, val);\n        return;\n      }\n    }\n    for (var i = 0; i < parts.length - 1; i++) {\n      var id = parts[i];\n      if (!obj[id]) {\n        obj[id] = {};\n      }\n      obj = obj[id];\n    }\n    obj[parts[parts.length - 1]] = val;\n  };\n  _proto.get = function get(name) {\n    var val = this.variables[name];\n    if (val !== undefined) {\n      return val;\n    }\n    return null;\n  };\n  _proto.lookup = function lookup(name) {\n    var p = this.parent;\n    var val = this.variables[name];\n    if (val !== undefined) {\n      return val;\n    }\n    return p && p.lookup(name);\n  };\n  _proto.resolve = function resolve(name, forWrite) {\n    var p = forWrite && this.isolateWrites ? undefined : this.parent;\n    var val = this.variables[name];\n    if (val !== undefined) {\n      return this;\n    }\n    return p && p.resolve(name);\n  };\n  _proto.push = function push(isolateWrites) {\n    return new Frame(this, isolateWrites);\n  };\n  _proto.pop = function pop() {\n    return this.parent;\n  };\n  return Frame;\n}();\nfunction makeMacro(argNames, kwargNames, func) {\n  return function macro() {\n    for (var _len = arguments.length, macroArgs = new Array(_len), _key = 0; _key < _len; _key++) {\n      macroArgs[_key] = arguments[_key];\n    }\n    var argCount = numArgs(macroArgs);\n    var args;\n    var kwargs = getKeywordArgs(macroArgs);\n    if (argCount > argNames.length) {\n      args = macroArgs.slice(0, argNames.length);\n\n      // Positional arguments that should be passed in as\n      // keyword arguments (essentially default values)\n      macroArgs.slice(args.length, argCount).forEach(function (val, i) {\n        if (i < kwargNames.length) {\n          kwargs[kwargNames[i]] = val;\n        }\n      });\n      args.push(kwargs);\n    } else if (argCount < argNames.length) {\n      args = macroArgs.slice(0, argCount);\n      for (var i = argCount; i < argNames.length; i++) {\n        var arg = argNames[i];\n\n        // Keyword arguments that should be passed as\n        // positional arguments, i.e. the caller explicitly\n        // used the name of a positional arg\n        args.push(kwargs[arg]);\n        delete kwargs[arg];\n      }\n      args.push(kwargs);\n    } else {\n      args = macroArgs;\n    }\n    return func.apply(this, args);\n  };\n}\nfunction makeKeywordArgs(obj) {\n  obj.__keywords = true;\n  return obj;\n}\nfunction isKeywordArgs(obj) {\n  return obj && Object.prototype.hasOwnProperty.call(obj, '__keywords');\n}\nfunction getKeywordArgs(args) {\n  var len = args.length;\n  if (len) {\n    var lastArg = args[len - 1];\n    if (isKeywordArgs(lastArg)) {\n      return lastArg;\n    }\n  }\n  return {};\n}\nfunction numArgs(args) {\n  var len = args.length;\n  if (len === 0) {\n    return 0;\n  }\n  var lastArg = args[len - 1];\n  if (isKeywordArgs(lastArg)) {\n    return len - 1;\n  } else {\n    return len;\n  }\n}\n\n// A SafeString object indicates that the string should not be\n// autoescaped. This happens magically because autoescaping only\n// occurs on primitive string objects.\nfunction SafeString(val) {\n  if (typeof val !== 'string') {\n    return val;\n  }\n  this.val = val;\n  this.length = val.length;\n}\nSafeString.prototype = Object.create(String.prototype, {\n  length: {\n    writable: true,\n    configurable: true,\n    value: 0\n  }\n});\nSafeString.prototype.valueOf = function valueOf() {\n  return this.val;\n};\nSafeString.prototype.toString = function toString() {\n  return this.val;\n};\nfunction copySafeness(dest, target) {\n  if (dest instanceof SafeString) {\n    return new SafeString(target);\n  }\n  return target.toString();\n}\nfunction markSafe(val) {\n  var type = typeof val;\n  if (type === 'string') {\n    return new SafeString(val);\n  } else if (type !== 'function') {\n    return val;\n  } else {\n    return function wrapSafe(args) {\n      var ret = val.apply(this, arguments);\n      if (typeof ret === 'string') {\n        return new SafeString(ret);\n      }\n      return ret;\n    };\n  }\n}\nfunction suppressValue(val, autoescape) {\n  val = val !== undefined && val !== null ? val : '';\n  if (autoescape && !(val instanceof SafeString)) {\n    val = lib.escape(val.toString());\n  }\n  return val;\n}\nfunction ensureDefined(val, lineno, colno) {\n  if (val === null || val === undefined) {\n    throw new lib.TemplateError('attempted to output null or undefined value', lineno + 1, colno + 1);\n  }\n  return val;\n}\nfunction memberLookup(obj, val) {\n  if (obj === undefined || obj === null) {\n    return undefined;\n  }\n  if (typeof obj[val] === 'function') {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      return obj[val].apply(obj, args);\n    };\n  }\n  return obj[val];\n}\nfunction callWrap(obj, name, context, args) {\n  if (!obj) {\n    throw new Error('Unable to call `' + name + '`, which is undefined or falsey');\n  } else if (typeof obj !== 'function') {\n    throw new Error('Unable to call `' + name + '`, which is not a function');\n  }\n  return obj.apply(context, args);\n}\nfunction contextOrFrameLookup(context, frame, name) {\n  var val = frame.lookup(name);\n  return val !== undefined ? val : context.lookup(name);\n}\nfunction handleError(error, lineno, colno) {\n  if (error.lineno) {\n    return error;\n  } else {\n    return new lib.TemplateError(error, lineno, colno);\n  }\n}\nfunction asyncEach(arr, dimen, iter, cb) {\n  if (lib.isArray(arr)) {\n    var len = arr.length;\n    lib.asyncIter(arr, function iterCallback(item, i, next) {\n      switch (dimen) {\n        case 1:\n          iter(item, i, len, next);\n          break;\n        case 2:\n          iter(item[0], item[1], i, len, next);\n          break;\n        case 3:\n          iter(item[0], item[1], item[2], i, len, next);\n          break;\n        default:\n          item.push(i, len, next);\n          iter.apply(this, item);\n      }\n    }, cb);\n  } else {\n    lib.asyncFor(arr, function iterCallback(key, val, i, len, next) {\n      iter(key, val, i, len, next);\n    }, cb);\n  }\n}\nfunction asyncAll(arr, dimen, func, cb) {\n  var finished = 0;\n  var len;\n  var outputArr;\n  function done(i, output) {\n    finished++;\n    outputArr[i] = output;\n    if (finished === len) {\n      cb(null, outputArr.join(''));\n    }\n  }\n  if (lib.isArray(arr)) {\n    len = arr.length;\n    outputArr = new Array(len);\n    if (len === 0) {\n      cb(null, '');\n    } else {\n      for (var i = 0; i < arr.length; i++) {\n        var item = arr[i];\n        switch (dimen) {\n          case 1:\n            func(item, i, len, done);\n            break;\n          case 2:\n            func(item[0], item[1], i, len, done);\n            break;\n          case 3:\n            func(item[0], item[1], item[2], i, len, done);\n            break;\n          default:\n            item.push(i, len, done);\n            func.apply(this, item);\n        }\n      }\n    }\n  } else {\n    var keys = lib.keys(arr || {});\n    len = keys.length;\n    outputArr = new Array(len);\n    if (len === 0) {\n      cb(null, '');\n    } else {\n      for (var _i = 0; _i < keys.length; _i++) {\n        var k = keys[_i];\n        func(k, arr[k], _i, len, done);\n      }\n    }\n  }\n}\nfunction fromIterator(arr) {\n  if (typeof arr !== 'object' || arr === null || lib.isArray(arr)) {\n    return arr;\n  } else if (supportsIterators && Symbol.iterator in arr) {\n    return arrayFrom(arr);\n  } else {\n    return arr;\n  }\n}\nmodule.exports = {\n  Frame: Frame,\n  makeMacro: makeMacro,\n  makeKeywordArgs: makeKeywordArgs,\n  numArgs: numArgs,\n  suppressValue: suppressValue,\n  ensureDefined: ensureDefined,\n  memberLookup: memberLookup,\n  contextOrFrameLookup: contextOrFrameLookup,\n  callWrap: callWrap,\n  handleError: handleError,\n  isArray: lib.isArray,\n  keys: lib.keys,\n  SafeString: SafeString,\n  copySafeness: copySafeness,\n  markSafe: markSafe,\n  asyncEach: asyncEach,\n  asyncAll: asyncAll,\n  inOperator: lib.inOperator,\n  fromIterator: fromIterator\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar Loader = __webpack_require__(4);\nvar PrecompiledLoader = /*#__PURE__*/function (_Loader) {\n  _inheritsLoose(PrecompiledLoader, _Loader);\n  function PrecompiledLoader(compiledTemplates) {\n    var _this;\n    _this = _Loader.call(this) || this;\n    _this.precompiled = compiledTemplates || {};\n    return _this;\n  }\n  var _proto = PrecompiledLoader.prototype;\n  _proto.getSource = function getSource(name) {\n    if (this.precompiled[name]) {\n      return {\n        src: {\n          type: 'code',\n          obj: this.precompiled[name]\n        },\n        path: name\n      };\n    }\n    return null;\n  };\n  return PrecompiledLoader;\n}(Loader);\nmodule.exports = {\n  PrecompiledLoader: PrecompiledLoader\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar path = __webpack_require__(0);\nvar _require = __webpack_require__(5),\n  EmitterObj = _require.EmitterObj;\nmodule.exports = /*#__PURE__*/function (_EmitterObj) {\n  _inheritsLoose(Loader, _EmitterObj);\n  function Loader() {\n    return _EmitterObj.apply(this, arguments) || this;\n  }\n  var _proto = Loader.prototype;\n  _proto.resolve = function resolve(from, to) {\n    return path.resolve(path.dirname(from), to);\n  };\n  _proto.isRelative = function isRelative(filename) {\n    return filename.indexOf('./') === 0 || filename.indexOf('../') === 0;\n  };\n  return Loader;\n}(EmitterObj);\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// A simple class system, more documentation to come\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar EventEmitter = __webpack_require__(13);\nvar lib = __webpack_require__(1);\nfunction parentWrap(parent, prop) {\n  if (typeof parent !== 'function' || typeof prop !== 'function') {\n    return prop;\n  }\n  return function wrap() {\n    // Save the current parent method\n    var tmp = this.parent;\n\n    // Set parent to the previous method, call, and restore\n    this.parent = parent;\n    var res = prop.apply(this, arguments);\n    this.parent = tmp;\n    return res;\n  };\n}\nfunction extendClass(cls, name, props) {\n  props = props || {};\n  lib.keys(props).forEach(function (k) {\n    props[k] = parentWrap(cls.prototype[k], props[k]);\n  });\n  var subclass = /*#__PURE__*/function (_cls) {\n    _inheritsLoose(subclass, _cls);\n    function subclass() {\n      return _cls.apply(this, arguments) || this;\n    }\n    _createClass(subclass, [{\n      key: \"typename\",\n      get: function get() {\n        return name;\n      }\n    }]);\n    return subclass;\n  }(cls);\n  lib._assign(subclass.prototype, props);\n  return subclass;\n}\nvar Obj = /*#__PURE__*/function () {\n  function Obj() {\n    // Unfortunately necessary for backwards compatibility\n    this.init.apply(this, arguments);\n  }\n  var _proto = Obj.prototype;\n  _proto.init = function init() {};\n  Obj.extend = function extend(name, props) {\n    if (typeof name === 'object') {\n      props = name;\n      name = 'anonymous';\n    }\n    return extendClass(this, name, props);\n  };\n  _createClass(Obj, [{\n    key: \"typename\",\n    get: function get() {\n      return this.constructor.name;\n    }\n  }]);\n  return Obj;\n}();\nvar EmitterObj = /*#__PURE__*/function (_EventEmitter) {\n  _inheritsLoose(EmitterObj, _EventEmitter);\n  function EmitterObj() {\n    var _this2;\n    var _this;\n    _this = _EventEmitter.call(this) || this;\n    // Unfortunately necessary for backwards compatibility\n    (_this2 = _this).init.apply(_this2, arguments);\n    return _this;\n  }\n  var _proto2 = EmitterObj.prototype;\n  _proto2.init = function init() {};\n  EmitterObj.extend = function extend(name, props) {\n    if (typeof name === 'object') {\n      props = name;\n      name = 'anonymous';\n    }\n    return extendClass(this, name, props);\n  };\n  _createClass(EmitterObj, [{\n    key: \"typename\",\n    get: function get() {\n      return this.constructor.name;\n    }\n  }]);\n  return EmitterObj;\n}(EventEmitter);\nmodule.exports = {\n  Obj: Obj,\n  EmitterObj: EmitterObj\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar lib = __webpack_require__(1);\nvar _require = __webpack_require__(7),\n  Environment = _require.Environment,\n  Template = _require.Template;\nvar Loader = __webpack_require__(4);\nvar loaders = __webpack_require__(3);\nvar precompile = __webpack_require__(0);\nvar compiler = __webpack_require__(0);\nvar parser = __webpack_require__(0);\nvar lexer = __webpack_require__(0);\nvar runtime = __webpack_require__(2);\nvar nodes = __webpack_require__(0);\nvar installJinjaCompat = __webpack_require__(17);\n\n// A single instance of an environment, since this is so commonly used\nvar e;\nfunction configure(templatesPath, opts) {\n  opts = opts || {};\n  if (lib.isObject(templatesPath)) {\n    opts = templatesPath;\n    templatesPath = null;\n  }\n  var TemplateLoader;\n  if (loaders.FileSystemLoader) {\n    TemplateLoader = new loaders.FileSystemLoader(templatesPath, {\n      watch: opts.watch,\n      noCache: opts.noCache\n    });\n  } else if (loaders.WebLoader) {\n    TemplateLoader = new loaders.WebLoader(templatesPath, {\n      useCache: opts.web && opts.web.useCache,\n      async: opts.web && opts.web.async\n    });\n  }\n  e = new Environment(TemplateLoader, opts);\n  if (opts && opts.express) {\n    e.express(opts.express);\n  }\n  return e;\n}\nmodule.exports = {\n  Environment: Environment,\n  Template: Template,\n  Loader: Loader,\n  FileSystemLoader: loaders.FileSystemLoader,\n  NodeResolveLoader: loaders.NodeResolveLoader,\n  PrecompiledLoader: loaders.PrecompiledLoader,\n  WebLoader: loaders.WebLoader,\n  compiler: compiler,\n  parser: parser,\n  lexer: lexer,\n  runtime: runtime,\n  lib: lib,\n  nodes: nodes,\n  installJinjaCompat: installJinjaCompat,\n  configure: configure,\n  reset: function reset() {\n    e = undefined;\n  },\n  compile: function compile(src, env, path, eagerCompile) {\n    if (!e) {\n      configure();\n    }\n    return new Template(src, env, path, eagerCompile);\n  },\n  render: function render(name, ctx, cb) {\n    if (!e) {\n      configure();\n    }\n    return e.render(name, ctx, cb);\n  },\n  renderString: function renderString(src, ctx, cb) {\n    if (!e) {\n      configure();\n    }\n    return e.renderString(src, ctx, cb);\n  },\n  precompile: precompile ? precompile.precompile : undefined,\n  precompileString: precompile ? precompile.precompileString : undefined\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar asap = __webpack_require__(8);\nvar _waterfall = __webpack_require__(11);\nvar lib = __webpack_require__(1);\nvar compiler = __webpack_require__(0);\nvar filters = __webpack_require__(12);\nvar _require = __webpack_require__(3),\n  FileSystemLoader = _require.FileSystemLoader,\n  WebLoader = _require.WebLoader,\n  PrecompiledLoader = _require.PrecompiledLoader;\nvar tests = __webpack_require__(14);\nvar globals = __webpack_require__(15);\nvar _require2 = __webpack_require__(5),\n  Obj = _require2.Obj,\n  EmitterObj = _require2.EmitterObj;\nvar globalRuntime = __webpack_require__(2);\nvar handleError = globalRuntime.handleError,\n  Frame = globalRuntime.Frame;\nvar expressApp = __webpack_require__(16);\n\n// If the user is using the async API, *always* call it\n// asynchronously even if the template was synchronous.\nfunction callbackAsap(cb, err, res) {\n  asap(function () {\n    cb(err, res);\n  });\n}\n\n/**\n * A no-op template, for use with {% include ignore missing %}\n */\nvar noopTmplSrc = {\n  type: 'code',\n  obj: {\n    root: function root(env, context, frame, runtime, cb) {\n      try {\n        cb(null, '');\n      } catch (e) {\n        cb(handleError(e, null, null));\n      }\n    }\n  }\n};\nvar Environment = /*#__PURE__*/function (_EmitterObj) {\n  _inheritsLoose(Environment, _EmitterObj);\n  function Environment() {\n    return _EmitterObj.apply(this, arguments) || this;\n  }\n  var _proto = Environment.prototype;\n  _proto.init = function init(loaders, opts) {\n    var _this = this;\n    // The dev flag determines the trace that'll be shown on errors.\n    // If set to true, returns the full trace from the error point,\n    // otherwise will return trace starting from Template.render\n    // (the full trace from within nunjucks may confuse developers using\n    //  the library)\n    // defaults to false\n    opts = this.opts = opts || {};\n    this.opts.dev = !!opts.dev;\n\n    // The autoescape flag sets global autoescaping. If true,\n    // every string variable will be escaped by default.\n    // If false, strings can be manually escaped using the `escape` filter.\n    // defaults to true\n    this.opts.autoescape = opts.autoescape != null ? opts.autoescape : true;\n\n    // If true, this will make the system throw errors if trying\n    // to output a null or undefined value\n    this.opts.throwOnUndefined = !!opts.throwOnUndefined;\n    this.opts.trimBlocks = !!opts.trimBlocks;\n    this.opts.lstripBlocks = !!opts.lstripBlocks;\n    this.loaders = [];\n    if (!loaders) {\n      // The filesystem loader is only available server-side\n      if (FileSystemLoader) {\n        this.loaders = [new FileSystemLoader('views')];\n      } else if (WebLoader) {\n        this.loaders = [new WebLoader('/views')];\n      }\n    } else {\n      this.loaders = lib.isArray(loaders) ? loaders : [loaders];\n    }\n\n    // It's easy to use precompiled templates: just include them\n    // before you configure nunjucks and this will automatically\n    // pick it up and use it\n    if (typeof window !== 'undefined' && window.nunjucksPrecompiled) {\n      this.loaders.unshift(new PrecompiledLoader(window.nunjucksPrecompiled));\n    }\n    this._initLoaders();\n    this.globals = globals();\n    this.filters = {};\n    this.tests = {};\n    this.asyncFilters = [];\n    this.extensions = {};\n    this.extensionsList = [];\n    lib._entries(filters).forEach(function (_ref) {\n      var name = _ref[0],\n        filter = _ref[1];\n      return _this.addFilter(name, filter);\n    });\n    lib._entries(tests).forEach(function (_ref2) {\n      var name = _ref2[0],\n        test = _ref2[1];\n      return _this.addTest(name, test);\n    });\n  };\n  _proto._initLoaders = function _initLoaders() {\n    var _this2 = this;\n    this.loaders.forEach(function (loader) {\n      // Caching and cache busting\n      loader.cache = {};\n      if (typeof loader.on === 'function') {\n        loader.on('update', function (name, fullname) {\n          loader.cache[name] = null;\n          _this2.emit('update', name, fullname, loader);\n        });\n        loader.on('load', function (name, source) {\n          _this2.emit('load', name, source, loader);\n        });\n      }\n    });\n  };\n  _proto.invalidateCache = function invalidateCache() {\n    this.loaders.forEach(function (loader) {\n      loader.cache = {};\n    });\n  };\n  _proto.addExtension = function addExtension(name, extension) {\n    extension.__name = name;\n    this.extensions[name] = extension;\n    this.extensionsList.push(extension);\n    return this;\n  };\n  _proto.removeExtension = function removeExtension(name) {\n    var extension = this.getExtension(name);\n    if (!extension) {\n      return;\n    }\n    this.extensionsList = lib.without(this.extensionsList, extension);\n    delete this.extensions[name];\n  };\n  _proto.getExtension = function getExtension(name) {\n    return this.extensions[name];\n  };\n  _proto.hasExtension = function hasExtension(name) {\n    return !!this.extensions[name];\n  };\n  _proto.addGlobal = function addGlobal(name, value) {\n    this.globals[name] = value;\n    return this;\n  };\n  _proto.getGlobal = function getGlobal(name) {\n    if (typeof this.globals[name] === 'undefined') {\n      throw new Error('global not found: ' + name);\n    }\n    return this.globals[name];\n  };\n  _proto.addFilter = function addFilter(name, func, async) {\n    var wrapped = func;\n    if (async) {\n      this.asyncFilters.push(name);\n    }\n    this.filters[name] = wrapped;\n    return this;\n  };\n  _proto.getFilter = function getFilter(name) {\n    if (!this.filters[name]) {\n      throw new Error('filter not found: ' + name);\n    }\n    return this.filters[name];\n  };\n  _proto.addTest = function addTest(name, func) {\n    this.tests[name] = func;\n    return this;\n  };\n  _proto.getTest = function getTest(name) {\n    if (!this.tests[name]) {\n      throw new Error('test not found: ' + name);\n    }\n    return this.tests[name];\n  };\n  _proto.resolveTemplate = function resolveTemplate(loader, parentName, filename) {\n    var isRelative = loader.isRelative && parentName ? loader.isRelative(filename) : false;\n    return isRelative && loader.resolve ? loader.resolve(parentName, filename) : filename;\n  };\n  _proto.getTemplate = function getTemplate(name, eagerCompile, parentName, ignoreMissing, cb) {\n    var _this3 = this;\n    var that = this;\n    var tmpl = null;\n    if (name && name.raw) {\n      // this fixes autoescape for templates referenced in symbols\n      name = name.raw;\n    }\n    if (lib.isFunction(parentName)) {\n      cb = parentName;\n      parentName = null;\n      eagerCompile = eagerCompile || false;\n    }\n    if (lib.isFunction(eagerCompile)) {\n      cb = eagerCompile;\n      eagerCompile = false;\n    }\n    if (name instanceof Template) {\n      tmpl = name;\n    } else if (typeof name !== 'string') {\n      throw new Error('template names must be a string: ' + name);\n    } else {\n      for (var i = 0; i < this.loaders.length; i++) {\n        var loader = this.loaders[i];\n        tmpl = loader.cache[this.resolveTemplate(loader, parentName, name)];\n        if (tmpl) {\n          break;\n        }\n      }\n    }\n    if (tmpl) {\n      if (eagerCompile) {\n        tmpl.compile();\n      }\n      if (cb) {\n        cb(null, tmpl);\n        return undefined;\n      } else {\n        return tmpl;\n      }\n    }\n    var syncResult;\n    var createTemplate = function createTemplate(err, info) {\n      if (!info && !err && !ignoreMissing) {\n        err = new Error('template not found: ' + name);\n      }\n      if (err) {\n        if (cb) {\n          cb(err);\n          return;\n        } else {\n          throw err;\n        }\n      }\n      var newTmpl;\n      if (!info) {\n        newTmpl = new Template(noopTmplSrc, _this3, '', eagerCompile);\n      } else {\n        newTmpl = new Template(info.src, _this3, info.path, eagerCompile);\n        if (!info.noCache) {\n          info.loader.cache[name] = newTmpl;\n        }\n      }\n      if (cb) {\n        cb(null, newTmpl);\n      } else {\n        syncResult = newTmpl;\n      }\n    };\n    lib.asyncIter(this.loaders, function (loader, i, next, done) {\n      function handle(err, src) {\n        if (err) {\n          done(err);\n        } else if (src) {\n          src.loader = loader;\n          done(null, src);\n        } else {\n          next();\n        }\n      }\n\n      // Resolve name relative to parentName\n      name = that.resolveTemplate(loader, parentName, name);\n      if (loader.async) {\n        loader.getSource(name, handle);\n      } else {\n        handle(null, loader.getSource(name));\n      }\n    }, createTemplate);\n    return syncResult;\n  };\n  _proto.express = function express(app) {\n    return expressApp(this, app);\n  };\n  _proto.render = function render(name, ctx, cb) {\n    if (lib.isFunction(ctx)) {\n      cb = ctx;\n      ctx = null;\n    }\n\n    // We support a synchronous API to make it easier to migrate\n    // existing code to async. This works because if you don't do\n    // anything async work, the whole thing is actually run\n    // synchronously.\n    var syncResult = null;\n    this.getTemplate(name, function (err, tmpl) {\n      if (err && cb) {\n        callbackAsap(cb, err);\n      } else if (err) {\n        throw err;\n      } else {\n        syncResult = tmpl.render(ctx, cb);\n      }\n    });\n    return syncResult;\n  };\n  _proto.renderString = function renderString(src, ctx, opts, cb) {\n    if (lib.isFunction(opts)) {\n      cb = opts;\n      opts = {};\n    }\n    opts = opts || {};\n    var tmpl = new Template(src, this, opts.path);\n    return tmpl.render(ctx, cb);\n  };\n  _proto.waterfall = function waterfall(tasks, callback, forceAsync) {\n    return _waterfall(tasks, callback, forceAsync);\n  };\n  return Environment;\n}(EmitterObj);\nvar Context = /*#__PURE__*/function (_Obj) {\n  _inheritsLoose(Context, _Obj);\n  function Context() {\n    return _Obj.apply(this, arguments) || this;\n  }\n  var _proto2 = Context.prototype;\n  _proto2.init = function init(ctx, blocks, env) {\n    var _this4 = this;\n    // Has to be tied to an environment so we can tap into its globals.\n    this.env = env || new Environment();\n\n    // Make a duplicate of ctx\n    this.ctx = lib.extend({}, ctx);\n    this.blocks = {};\n    this.exported = [];\n    lib.keys(blocks).forEach(function (name) {\n      _this4.addBlock(name, blocks[name]);\n    });\n  };\n  _proto2.lookup = function lookup(name) {\n    // This is one of the most called functions, so optimize for\n    // the typical case where the name isn't in the globals\n    if (name in this.env.globals && !(name in this.ctx)) {\n      return this.env.globals[name];\n    } else {\n      return this.ctx[name];\n    }\n  };\n  _proto2.setVariable = function setVariable(name, val) {\n    this.ctx[name] = val;\n  };\n  _proto2.getVariables = function getVariables() {\n    return this.ctx;\n  };\n  _proto2.addBlock = function addBlock(name, block) {\n    this.blocks[name] = this.blocks[name] || [];\n    this.blocks[name].push(block);\n    return this;\n  };\n  _proto2.getBlock = function getBlock(name) {\n    if (!this.blocks[name]) {\n      throw new Error('unknown block \"' + name + '\"');\n    }\n    return this.blocks[name][0];\n  };\n  _proto2.getSuper = function getSuper(env, name, block, frame, runtime, cb) {\n    var idx = lib.indexOf(this.blocks[name] || [], block);\n    var blk = this.blocks[name][idx + 1];\n    var context = this;\n    if (idx === -1 || !blk) {\n      throw new Error('no super block available for \"' + name + '\"');\n    }\n    blk(env, context, frame, runtime, cb);\n  };\n  _proto2.addExport = function addExport(name) {\n    this.exported.push(name);\n  };\n  _proto2.getExported = function getExported() {\n    var _this5 = this;\n    var exported = {};\n    this.exported.forEach(function (name) {\n      exported[name] = _this5.ctx[name];\n    });\n    return exported;\n  };\n  return Context;\n}(Obj);\nvar Template = /*#__PURE__*/function (_Obj2) {\n  _inheritsLoose(Template, _Obj2);\n  function Template() {\n    return _Obj2.apply(this, arguments) || this;\n  }\n  var _proto3 = Template.prototype;\n  _proto3.init = function init(src, env, path, eagerCompile) {\n    this.env = env || new Environment();\n    if (lib.isObject(src)) {\n      switch (src.type) {\n        case 'code':\n          this.tmplProps = src.obj;\n          break;\n        case 'string':\n          this.tmplStr = src.obj;\n          break;\n        default:\n          throw new Error(\"Unexpected template object type \" + src.type + \"; expected 'code', or 'string'\");\n      }\n    } else if (lib.isString(src)) {\n      this.tmplStr = src;\n    } else {\n      throw new Error('src must be a string or an object describing the source');\n    }\n    this.path = path;\n    if (eagerCompile) {\n      try {\n        this._compile();\n      } catch (err) {\n        throw lib._prettifyError(this.path, this.env.opts.dev, err);\n      }\n    } else {\n      this.compiled = false;\n    }\n  };\n  _proto3.render = function render(ctx, parentFrame, cb) {\n    var _this6 = this;\n    if (typeof ctx === 'function') {\n      cb = ctx;\n      ctx = {};\n    } else if (typeof parentFrame === 'function') {\n      cb = parentFrame;\n      parentFrame = null;\n    }\n\n    // If there is a parent frame, we are being called from internal\n    // code of another template, and the internal system\n    // depends on the sync/async nature of the parent template\n    // to be inherited, so force an async callback\n    var forceAsync = !parentFrame;\n\n    // Catch compile errors for async rendering\n    try {\n      this.compile();\n    } catch (e) {\n      var err = lib._prettifyError(this.path, this.env.opts.dev, e);\n      if (cb) {\n        return callbackAsap(cb, err);\n      } else {\n        throw err;\n      }\n    }\n    var context = new Context(ctx || {}, this.blocks, this.env);\n    var frame = parentFrame ? parentFrame.push(true) : new Frame();\n    frame.topLevel = true;\n    var syncResult = null;\n    var didError = false;\n    this.rootRenderFunc(this.env, context, frame, globalRuntime, function (err, res) {\n      // TODO: this is actually a bug in the compiled template (because waterfall\n      // tasks are both not passing errors up the chain of callbacks AND are not\n      // causing a return from the top-most render function). But fixing that\n      // will require a more substantial change to the compiler.\n      if (didError && cb && typeof res !== 'undefined') {\n        // prevent multiple calls to cb\n        return;\n      }\n      if (err) {\n        err = lib._prettifyError(_this6.path, _this6.env.opts.dev, err);\n        didError = true;\n      }\n      if (cb) {\n        if (forceAsync) {\n          callbackAsap(cb, err, res);\n        } else {\n          cb(err, res);\n        }\n      } else {\n        if (err) {\n          throw err;\n        }\n        syncResult = res;\n      }\n    });\n    return syncResult;\n  };\n  _proto3.getExported = function getExported(ctx, parentFrame, cb) {\n    // eslint-disable-line consistent-return\n    if (typeof ctx === 'function') {\n      cb = ctx;\n      ctx = {};\n    }\n    if (typeof parentFrame === 'function') {\n      cb = parentFrame;\n      parentFrame = null;\n    }\n\n    // Catch compile errors for async rendering\n    try {\n      this.compile();\n    } catch (e) {\n      if (cb) {\n        return cb(e);\n      } else {\n        throw e;\n      }\n    }\n    var frame = parentFrame ? parentFrame.push() : new Frame();\n    frame.topLevel = true;\n\n    // Run the rootRenderFunc to populate the context with exported vars\n    var context = new Context(ctx || {}, this.blocks, this.env);\n    this.rootRenderFunc(this.env, context, frame, globalRuntime, function (err) {\n      if (err) {\n        cb(err, null);\n      } else {\n        cb(null, context.getExported());\n      }\n    });\n  };\n  _proto3.compile = function compile() {\n    if (!this.compiled) {\n      this._compile();\n    }\n  };\n  _proto3._compile = function _compile() {\n    var props;\n    if (this.tmplProps) {\n      props = this.tmplProps;\n    } else {\n      var source = compiler.compile(this.tmplStr, this.env.asyncFilters, this.env.extensionsList, this.path, this.env.opts);\n      var func = new Function(source); // eslint-disable-line no-new-func\n      props = func();\n    }\n    this.blocks = this._getBlocks(props);\n    this.rootRenderFunc = props.root;\n    this.compiled = true;\n  };\n  _proto3._getBlocks = function _getBlocks(props) {\n    var blocks = {};\n    lib.keys(props).forEach(function (k) {\n      if (k.slice(0, 2) === 'b_') {\n        blocks[k.slice(2)] = props[k];\n      }\n    });\n    return blocks;\n  };\n  return Template;\n}(Obj);\nmodule.exports = {\n  Environment: Environment,\n  Template: Template\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// rawAsap provides everything we need except exception management.\nvar rawAsap = __webpack_require__(9);\n// RawTasks are recycled to reduce GC churn.\nvar freeTasks = [];\n// We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n    if (pendingErrors.length) {\n        throw pendingErrors.shift();\n    }\n}\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nmodule.exports = asap;\nfunction asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n        rawTask = freeTasks.pop();\n    } else {\n        rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawAsap(rawTask);\n}\n\n// We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\nfunction RawTask() {\n    this.task = null;\n}\n\n// The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\nRawTask.prototype.call = function () {\n    try {\n        this.task.call();\n    } catch (error) {\n        if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n        } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n        }\n    } finally {\n        this.task = null;\n        freeTasks[freeTasks.length] = this;\n    }\n};\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jss\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(10)))\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// MIT license (by Elan Shanker).\n(function(globals) {\n  'use strict';\n\n  var executeSync = function(){\n    var args = Array.prototype.slice.call(arguments);\n    if (typeof args[0] === 'function'){\n      args[0].apply(null, args.splice(1));\n    }\n  };\n\n  var executeAsync = function(fn){\n    if (typeof setImmediate === 'function') {\n      setImmediate(fn);\n    } else if (typeof process !== 'undefined' && process.nextTick) {\n      process.nextTick(fn);\n    } else {\n      setTimeout(fn, 0);\n    }\n  };\n\n  var makeIterator = function (tasks) {\n    var makeCallback = function (index) {\n      var fn = function () {\n        if (tasks.length) {\n          tasks[index].apply(null, arguments);\n        }\n        return fn.next();\n      };\n      fn.next = function () {\n        return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n      };\n      return fn;\n    };\n    return makeCallback(0);\n  };\n  \n  var _isArray = Array.isArray || function(maybeArray){\n    return Object.prototype.toString.call(maybeArray) === '[object Array]';\n  };\n\n  var waterfall = function (tasks, callback, forceAsync) {\n    var nextTick = forceAsync ? executeAsync : executeSync;\n    callback = callback || function () {};\n    if (!_isArray(tasks)) {\n      var err = new Error('First argument to waterfall must be an array of functions');\n      return callback(err);\n    }\n    if (!tasks.length) {\n      return callback();\n    }\n    var wrapIterator = function (iterator) {\n      return function (err) {\n        if (err) {\n          callback.apply(null, arguments);\n          callback = function () {};\n        } else {\n          var args = Array.prototype.slice.call(arguments, 1);\n          var next = iterator.next();\n          if (next) {\n            args.push(wrapIterator(next));\n          } else {\n            args.push(callback);\n          }\n          nextTick(function () {\n            iterator.apply(null, args);\n          });\n        }\n      };\n    };\n    wrapIterator(makeIterator(tasks))();\n  };\n\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n      return waterfall;\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // RequireJS\n  } else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = waterfall; // CommonJS\n  } else {\n    globals.waterfall = waterfall; // <script>\n  }\n})(this);\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar lib = __webpack_require__(1);\nvar r = __webpack_require__(2);\nvar exports = module.exports = {};\nfunction normalize(value, defaultValue) {\n  if (value === null || value === undefined || value === false) {\n    return defaultValue;\n  }\n  return value;\n}\nexports.abs = Math.abs;\nfunction isNaN(num) {\n  return num !== num; // eslint-disable-line no-self-compare\n}\n\nfunction batch(arr, linecount, fillWith) {\n  var i;\n  var res = [];\n  var tmp = [];\n  for (i = 0; i < arr.length; i++) {\n    if (i % linecount === 0 && tmp.length) {\n      res.push(tmp);\n      tmp = [];\n    }\n    tmp.push(arr[i]);\n  }\n  if (tmp.length) {\n    if (fillWith) {\n      for (i = tmp.length; i < linecount; i++) {\n        tmp.push(fillWith);\n      }\n    }\n    res.push(tmp);\n  }\n  return res;\n}\nexports.batch = batch;\nfunction capitalize(str) {\n  str = normalize(str, '');\n  var ret = str.toLowerCase();\n  return r.copySafeness(str, ret.charAt(0).toUpperCase() + ret.slice(1));\n}\nexports.capitalize = capitalize;\nfunction center(str, width) {\n  str = normalize(str, '');\n  width = width || 80;\n  if (str.length >= width) {\n    return str;\n  }\n  var spaces = width - str.length;\n  var pre = lib.repeat(' ', spaces / 2 - spaces % 2);\n  var post = lib.repeat(' ', spaces / 2);\n  return r.copySafeness(str, pre + str + post);\n}\nexports.center = center;\nfunction default_(val, def, bool) {\n  if (bool) {\n    return val || def;\n  } else {\n    return val !== undefined ? val : def;\n  }\n}\n\n// TODO: it is confusing to export something called 'default'\nexports['default'] = default_; // eslint-disable-line dot-notation\n\nfunction dictsort(val, caseSensitive, by) {\n  if (!lib.isObject(val)) {\n    throw new lib.TemplateError('dictsort filter: val must be an object');\n  }\n  var array = [];\n  // deliberately include properties from the object's prototype\n  for (var k in val) {\n    // eslint-disable-line guard-for-in, no-restricted-syntax\n    array.push([k, val[k]]);\n  }\n  var si;\n  if (by === undefined || by === 'key') {\n    si = 0;\n  } else if (by === 'value') {\n    si = 1;\n  } else {\n    throw new lib.TemplateError('dictsort filter: You can only sort by either key or value');\n  }\n  array.sort(function (t1, t2) {\n    var a = t1[si];\n    var b = t2[si];\n    if (!caseSensitive) {\n      if (lib.isString(a)) {\n        a = a.toUpperCase();\n      }\n      if (lib.isString(b)) {\n        b = b.toUpperCase();\n      }\n    }\n    return a > b ? 1 : a === b ? 0 : -1; // eslint-disable-line no-nested-ternary\n  });\n\n  return array;\n}\nexports.dictsort = dictsort;\nfunction dump(obj, spaces) {\n  return JSON.stringify(obj, null, spaces);\n}\nexports.dump = dump;\nfunction escape(str) {\n  if (str instanceof r.SafeString) {\n    return str;\n  }\n  str = str === null || str === undefined ? '' : str;\n  return r.markSafe(lib.escape(str.toString()));\n}\nexports.escape = escape;\nfunction safe(str) {\n  if (str instanceof r.SafeString) {\n    return str;\n  }\n  str = str === null || str === undefined ? '' : str;\n  return r.markSafe(str.toString());\n}\nexports.safe = safe;\nfunction first(arr) {\n  return arr[0];\n}\nexports.first = first;\nfunction forceescape(str) {\n  str = str === null || str === undefined ? '' : str;\n  return r.markSafe(lib.escape(str.toString()));\n}\nexports.forceescape = forceescape;\nfunction groupby(arr, attr) {\n  return lib.groupBy(arr, attr, this.env.opts.throwOnUndefined);\n}\nexports.groupby = groupby;\nfunction indent(str, width, indentfirst) {\n  str = normalize(str, '');\n  if (str === '') {\n    return '';\n  }\n  width = width || 4;\n  // let res = '';\n  var lines = str.split('\\n');\n  var sp = lib.repeat(' ', width);\n  var res = lines.map(function (l, i) {\n    return i === 0 && !indentfirst ? l : \"\" + sp + l;\n  }).join('\\n');\n  return r.copySafeness(str, res);\n}\nexports.indent = indent;\nfunction join(arr, del, attr) {\n  del = del || '';\n  if (attr) {\n    arr = lib.map(arr, function (v) {\n      return v[attr];\n    });\n  }\n  return arr.join(del);\n}\nexports.join = join;\nfunction last(arr) {\n  return arr[arr.length - 1];\n}\nexports.last = last;\nfunction lengthFilter(val) {\n  var value = normalize(val, '');\n  if (value !== undefined) {\n    if (typeof Map === 'function' && value instanceof Map || typeof Set === 'function' && value instanceof Set) {\n      // ECMAScript 2015 Maps and Sets\n      return value.size;\n    }\n    if (lib.isObject(value) && !(value instanceof r.SafeString)) {\n      // Objects (besides SafeStrings), non-primative Arrays\n      return lib.keys(value).length;\n    }\n    return value.length;\n  }\n  return 0;\n}\nexports.length = lengthFilter;\nfunction list(val) {\n  if (lib.isString(val)) {\n    return val.split('');\n  } else if (lib.isObject(val)) {\n    return lib._entries(val || {}).map(function (_ref) {\n      var key = _ref[0],\n        value = _ref[1];\n      return {\n        key: key,\n        value: value\n      };\n    });\n  } else if (lib.isArray(val)) {\n    return val;\n  } else {\n    throw new lib.TemplateError('list filter: type not iterable');\n  }\n}\nexports.list = list;\nfunction lower(str) {\n  str = normalize(str, '');\n  return str.toLowerCase();\n}\nexports.lower = lower;\nfunction nl2br(str) {\n  if (str === null || str === undefined) {\n    return '';\n  }\n  return r.copySafeness(str, str.replace(/\\r\\n|\\n/g, '<br />\\n'));\n}\nexports.nl2br = nl2br;\nfunction random(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\nexports.random = random;\n\n/**\n * Construct select or reject filter\n *\n * @param {boolean} expectedTestResult\n * @returns {function(array, string, *): array}\n */\nfunction getSelectOrReject(expectedTestResult) {\n  function filter(arr, testName, secondArg) {\n    if (testName === void 0) {\n      testName = 'truthy';\n    }\n    var context = this;\n    var test = context.env.getTest(testName);\n    return lib.toArray(arr).filter(function examineTestResult(item) {\n      return test.call(context, item, secondArg) === expectedTestResult;\n    });\n  }\n  return filter;\n}\nexports.reject = getSelectOrReject(false);\nfunction rejectattr(arr, attr) {\n  return arr.filter(function (item) {\n    return !item[attr];\n  });\n}\nexports.rejectattr = rejectattr;\nexports.select = getSelectOrReject(true);\nfunction selectattr(arr, attr) {\n  return arr.filter(function (item) {\n    return !!item[attr];\n  });\n}\nexports.selectattr = selectattr;\nfunction replace(str, old, new_, maxCount) {\n  var originalStr = str;\n  if (old instanceof RegExp) {\n    return str.replace(old, new_);\n  }\n  if (typeof maxCount === 'undefined') {\n    maxCount = -1;\n  }\n  var res = ''; // Output\n\n  // Cast Numbers in the search term to string\n  if (typeof old === 'number') {\n    old = '' + old;\n  } else if (typeof old !== 'string') {\n    // If it is something other than number or string,\n    // return the original string\n    return str;\n  }\n\n  // Cast numbers in the replacement to string\n  if (typeof str === 'number') {\n    str = '' + str;\n  }\n\n  // If by now, we don't have a string, throw it back\n  if (typeof str !== 'string' && !(str instanceof r.SafeString)) {\n    return str;\n  }\n\n  // ShortCircuits\n  if (old === '') {\n    // Mimic the python behaviour: empty string is replaced\n    // by replacement e.g. \"abc\"|replace(\"\", \".\") -> .a.b.c.\n    res = new_ + str.split('').join(new_) + new_;\n    return r.copySafeness(str, res);\n  }\n  var nextIndex = str.indexOf(old);\n  // if # of replacements to perform is 0, or the string to does\n  // not contain the old value, return the string\n  if (maxCount === 0 || nextIndex === -1) {\n    return str;\n  }\n  var pos = 0;\n  var count = 0; // # of replacements made\n\n  while (nextIndex > -1 && (maxCount === -1 || count < maxCount)) {\n    // Grab the next chunk of src string and add it with the\n    // replacement, to the result\n    res += str.substring(pos, nextIndex) + new_;\n    // Increment our pointer in the src string\n    pos = nextIndex + old.length;\n    count++;\n    // See if there are any more replacements to be made\n    nextIndex = str.indexOf(old, pos);\n  }\n\n  // We've either reached the end, or done the max # of\n  // replacements, tack on any remaining string\n  if (pos < str.length) {\n    res += str.substring(pos);\n  }\n  return r.copySafeness(originalStr, res);\n}\nexports.replace = replace;\nfunction reverse(val) {\n  var arr;\n  if (lib.isString(val)) {\n    arr = list(val);\n  } else {\n    // Copy it\n    arr = lib.map(val, function (v) {\n      return v;\n    });\n  }\n  arr.reverse();\n  if (lib.isString(val)) {\n    return r.copySafeness(val, arr.join(''));\n  }\n  return arr;\n}\nexports.reverse = reverse;\nfunction round(val, precision, method) {\n  precision = precision || 0;\n  var factor = Math.pow(10, precision);\n  var rounder;\n  if (method === 'ceil') {\n    rounder = Math.ceil;\n  } else if (method === 'floor') {\n    rounder = Math.floor;\n  } else {\n    rounder = Math.round;\n  }\n  return rounder(val * factor) / factor;\n}\nexports.round = round;\nfunction slice(arr, slices, fillWith) {\n  var sliceLength = Math.floor(arr.length / slices);\n  var extra = arr.length % slices;\n  var res = [];\n  var offset = 0;\n  for (var i = 0; i < slices; i++) {\n    var start = offset + i * sliceLength;\n    if (i < extra) {\n      offset++;\n    }\n    var end = offset + (i + 1) * sliceLength;\n    var currSlice = arr.slice(start, end);\n    if (fillWith && i >= extra) {\n      currSlice.push(fillWith);\n    }\n    res.push(currSlice);\n  }\n  return res;\n}\nexports.slice = slice;\nfunction sum(arr, attr, start) {\n  if (start === void 0) {\n    start = 0;\n  }\n  if (attr) {\n    arr = lib.map(arr, function (v) {\n      return v[attr];\n    });\n  }\n  return start + arr.reduce(function (a, b) {\n    return a + b;\n  }, 0);\n}\nexports.sum = sum;\nexports.sort = r.makeMacro(['value', 'reverse', 'case_sensitive', 'attribute'], [], function sortFilter(arr, reversed, caseSens, attr) {\n  var _this = this;\n  // Copy it\n  var array = lib.map(arr, function (v) {\n    return v;\n  });\n  var getAttribute = lib.getAttrGetter(attr);\n  array.sort(function (a, b) {\n    var x = attr ? getAttribute(a) : a;\n    var y = attr ? getAttribute(b) : b;\n    if (_this.env.opts.throwOnUndefined && attr && (x === undefined || y === undefined)) {\n      throw new TypeError(\"sort: attribute \\\"\" + attr + \"\\\" resolved to undefined\");\n    }\n    if (!caseSens && lib.isString(x) && lib.isString(y)) {\n      x = x.toLowerCase();\n      y = y.toLowerCase();\n    }\n    if (x < y) {\n      return reversed ? 1 : -1;\n    } else if (x > y) {\n      return reversed ? -1 : 1;\n    } else {\n      return 0;\n    }\n  });\n  return array;\n});\nfunction string(obj) {\n  return r.copySafeness(obj, obj);\n}\nexports.string = string;\nfunction striptags(input, preserveLinebreaks) {\n  input = normalize(input, '');\n  var tags = /<\\/?([a-z][a-z0-9]*)\\b[^>]*>|<!--[\\s\\S]*?-->/gi;\n  var trimmedInput = trim(input.replace(tags, ''));\n  var res = '';\n  if (preserveLinebreaks) {\n    res = trimmedInput.replace(/^ +| +$/gm, '') // remove leading and trailing spaces\n    .replace(/ +/g, ' ') // squash adjacent spaces\n    .replace(/(\\r\\n)/g, '\\n') // normalize linebreaks (CRLF -> LF)\n    .replace(/\\n\\n\\n+/g, '\\n\\n'); // squash abnormal adjacent linebreaks\n  } else {\n    res = trimmedInput.replace(/\\s+/gi, ' ');\n  }\n  return r.copySafeness(input, res);\n}\nexports.striptags = striptags;\nfunction title(str) {\n  str = normalize(str, '');\n  var words = str.split(' ').map(function (word) {\n    return capitalize(word);\n  });\n  return r.copySafeness(str, words.join(' '));\n}\nexports.title = title;\nfunction trim(str) {\n  return r.copySafeness(str, str.replace(/^\\s*|\\s*$/g, ''));\n}\nexports.trim = trim;\nfunction truncate(input, length, killwords, end) {\n  var orig = input;\n  input = normalize(input, '');\n  length = length || 255;\n  if (input.length <= length) {\n    return input;\n  }\n  if (killwords) {\n    input = input.substring(0, length);\n  } else {\n    var idx = input.lastIndexOf(' ', length);\n    if (idx === -1) {\n      idx = length;\n    }\n    input = input.substring(0, idx);\n  }\n  input += end !== undefined && end !== null ? end : '...';\n  return r.copySafeness(orig, input);\n}\nexports.truncate = truncate;\nfunction upper(str) {\n  str = normalize(str, '');\n  return str.toUpperCase();\n}\nexports.upper = upper;\nfunction urlencode(obj) {\n  var enc = encodeURIComponent;\n  if (lib.isString(obj)) {\n    return enc(obj);\n  } else {\n    var keyvals = lib.isArray(obj) ? obj : lib._entries(obj);\n    return keyvals.map(function (_ref2) {\n      var k = _ref2[0],\n        v = _ref2[1];\n      return enc(k) + \"=\" + enc(v);\n    }).join('&');\n  }\n}\nexports.urlencode = urlencode;\n\n// For the jinja regexp, see\n// https://github.com/mitsuhiko/jinja2/blob/f15b814dcba6aa12bc74d1f7d0c881d55f7126be/jinja2/utils.py#L20-L23\nvar puncRe = /^(?:\\(|<|&lt;)?(.*?)(?:\\.|,|\\)|\\n|&gt;)?$/;\n// from http://blog.gerv.net/2011/05/html5_email_address_regexp/\nvar emailRe = /^[\\w.!#$%&'*+\\-\\/=?\\^`{|}~]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)+$/i;\nvar httpHttpsRe = /^https?:\\/\\/.*$/;\nvar wwwRe = /^www\\./;\nvar tldRe = /\\.(?:org|net|com)(?:\\:|\\/|$)/;\nfunction urlize(str, length, nofollow) {\n  if (isNaN(length)) {\n    length = Infinity;\n  }\n  var noFollowAttr = nofollow === true ? ' rel=\"nofollow\"' : '';\n  var words = str.split(/(\\s+)/).filter(function (word) {\n    // If the word has no length, bail. This can happen for str with\n    // trailing whitespace.\n    return word && word.length;\n  }).map(function (word) {\n    var matches = word.match(puncRe);\n    var possibleUrl = matches ? matches[1] : word;\n    var shortUrl = possibleUrl.substr(0, length);\n\n    // url that starts with http or https\n    if (httpHttpsRe.test(possibleUrl)) {\n      return \"<a href=\\\"\" + possibleUrl + \"\\\"\" + noFollowAttr + \">\" + shortUrl + \"</a>\";\n    }\n\n    // url that starts with www.\n    if (wwwRe.test(possibleUrl)) {\n      return \"<a href=\\\"http://\" + possibleUrl + \"\\\"\" + noFollowAttr + \">\" + shortUrl + \"</a>\";\n    }\n\n    // an email address of the form username@domain.tld\n    if (emailRe.test(possibleUrl)) {\n      return \"<a href=\\\"mailto:\" + possibleUrl + \"\\\">\" + possibleUrl + \"</a>\";\n    }\n\n    // url that ends in .com, .org or .net that is not an email address\n    if (tldRe.test(possibleUrl)) {\n      return \"<a href=\\\"http://\" + possibleUrl + \"\\\"\" + noFollowAttr + \">\" + shortUrl + \"</a>\";\n    }\n    return word;\n  });\n  return words.join('');\n}\nexports.urlize = urlize;\nfunction wordcount(str) {\n  str = normalize(str, '');\n  var words = str ? str.match(/\\w+/g) : null;\n  return words ? words.length : null;\n}\nexports.wordcount = wordcount;\nfunction float(val, def) {\n  var res = parseFloat(val);\n  return isNaN(res) ? def : res;\n}\nexports.float = float;\nvar intFilter = r.makeMacro(['value', 'default', 'base'], [], function doInt(value, defaultValue, base) {\n  if (base === void 0) {\n    base = 10;\n  }\n  var res = parseInt(value, base);\n  return isNaN(res) ? defaultValue : res;\n});\nexports.int = intFilter;\n\n// Aliases\nexports.d = exports.default;\nexports.e = exports.escape;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar SafeString = __webpack_require__(2).SafeString;\n\n/**\n * Returns `true` if the object is a function, otherwise `false`.\n * @param { any } value\n * @returns { boolean }\n */\nfunction callable(value) {\n  return typeof value === 'function';\n}\nexports.callable = callable;\n\n/**\n * Returns `true` if the object is strictly not `undefined`.\n * @param { any } value\n * @returns { boolean }\n */\nfunction defined(value) {\n  return value !== undefined;\n}\nexports.defined = defined;\n\n/**\n * Returns `true` if the operand (one) is divisble by the test's argument\n * (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction divisibleby(one, two) {\n  return one % two === 0;\n}\nexports.divisibleby = divisibleby;\n\n/**\n * Returns true if the string has been escaped (i.e., is a SafeString).\n * @param { any } value\n * @returns { boolean }\n */\nfunction escaped(value) {\n  return value instanceof SafeString;\n}\nexports.escaped = escaped;\n\n/**\n * Returns `true` if the arguments are strictly equal.\n * @param { any } one\n * @param { any } two\n */\nfunction equalto(one, two) {\n  return one === two;\n}\nexports.equalto = equalto;\n\n// Aliases\nexports.eq = exports.equalto;\nexports.sameas = exports.equalto;\n\n/**\n * Returns `true` if the value is evenly divisible by 2.\n * @param { number } value\n * @returns { boolean }\n */\nfunction even(value) {\n  return value % 2 === 0;\n}\nexports.even = even;\n\n/**\n * Returns `true` if the value is falsy - if I recall correctly, '', 0, false,\n * undefined, NaN or null. I don't know if we should stick to the default JS\n * behavior or attempt to replicate what Python believes should be falsy (i.e.,\n * empty arrays, empty dicts, not 0...).\n * @param { any } value\n * @returns { boolean }\n */\nfunction falsy(value) {\n  return !value;\n}\nexports.falsy = falsy;\n\n/**\n * Returns `true` if the operand (one) is greater or equal to the test's\n * argument (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction ge(one, two) {\n  return one >= two;\n}\nexports.ge = ge;\n\n/**\n * Returns `true` if the operand (one) is greater than the test's argument\n * (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction greaterthan(one, two) {\n  return one > two;\n}\nexports.greaterthan = greaterthan;\n\n// alias\nexports.gt = exports.greaterthan;\n\n/**\n * Returns `true` if the operand (one) is less than or equal to the test's\n * argument (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction le(one, two) {\n  return one <= two;\n}\nexports.le = le;\n\n/**\n * Returns `true` if the operand (one) is less than the test's passed argument\n * (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction lessthan(one, two) {\n  return one < two;\n}\nexports.lessthan = lessthan;\n\n// alias\nexports.lt = exports.lessthan;\n\n/**\n * Returns `true` if the string is lowercased.\n * @param { string } value\n * @returns { boolean }\n */\nfunction lower(value) {\n  return value.toLowerCase() === value;\n}\nexports.lower = lower;\n\n/**\n * Returns `true` if the operand (one) is less than or equal to the test's\n * argument (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction ne(one, two) {\n  return one !== two;\n}\nexports.ne = ne;\n\n/**\n * Returns true if the value is strictly equal to `null`.\n * @param { any }\n * @returns { boolean }\n */\nfunction nullTest(value) {\n  return value === null;\n}\nexports.null = nullTest;\n\n/**\n * Returns true if value is a number.\n * @param { any }\n * @returns { boolean }\n */\nfunction number(value) {\n  return typeof value === 'number';\n}\nexports.number = number;\n\n/**\n * Returns `true` if the value is *not* evenly divisible by 2.\n * @param { number } value\n * @returns { boolean }\n */\nfunction odd(value) {\n  return value % 2 === 1;\n}\nexports.odd = odd;\n\n/**\n * Returns `true` if the value is a string, `false` if not.\n * @param { any } value\n * @returns { boolean }\n */\nfunction string(value) {\n  return typeof value === 'string';\n}\nexports.string = string;\n\n/**\n * Returns `true` if the value is not in the list of things considered falsy:\n * '', null, undefined, 0, NaN and false.\n * @param { any } value\n * @returns { boolean }\n */\nfunction truthy(value) {\n  return !!value;\n}\nexports.truthy = truthy;\n\n/**\n * Returns `true` if the value is undefined.\n * @param { any } value\n * @returns { boolean }\n */\nfunction undefinedTest(value) {\n  return value === undefined;\n}\nexports.undefined = undefinedTest;\n\n/**\n * Returns `true` if the string is uppercased.\n * @param { string } value\n * @returns { boolean }\n */\nfunction upper(value) {\n  return value.toUpperCase() === value;\n}\nexports.upper = upper;\n\n/**\n * If ES6 features are available, returns `true` if the value implements the\n * `Symbol.iterator` method. If not, it's a string or Array.\n *\n * Could potentially cause issues if a browser exists that has Set and Map but\n * not Symbol.\n *\n * @param { any } value\n * @returns { boolean }\n */\nfunction iterable(value) {\n  if (typeof Symbol !== 'undefined') {\n    return !!value[Symbol.iterator];\n  } else {\n    return Array.isArray(value) || typeof value === 'string';\n  }\n}\nexports.iterable = iterable;\n\n/**\n * If ES6 features are available, returns `true` if the value is an object hash\n * or an ES6 Map. Otherwise just return if it's an object hash.\n * @param { any } value\n * @returns { boolean }\n */\nfunction mapping(value) {\n  // only maps and object hashes\n  var bool = value !== null && value !== undefined && typeof value === 'object' && !Array.isArray(value);\n  if (Set) {\n    return bool && !(value instanceof Set);\n  } else {\n    return bool;\n  }\n}\nexports.mapping = mapping;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _cycler(items) {\n  var index = -1;\n  return {\n    current: null,\n    reset: function reset() {\n      index = -1;\n      this.current = null;\n    },\n    next: function next() {\n      index++;\n      if (index >= items.length) {\n        index = 0;\n      }\n      this.current = items[index];\n      return this.current;\n    }\n  };\n}\nfunction _joiner(sep) {\n  sep = sep || ',';\n  var first = true;\n  return function () {\n    var val = first ? '' : sep;\n    first = false;\n    return val;\n  };\n}\n\n// Making this a function instead so it returns a new object\n// each time it's called. That way, if something like an environment\n// uses it, they will each have their own copy.\nfunction globals() {\n  return {\n    range: function range(start, stop, step) {\n      if (typeof stop === 'undefined') {\n        stop = start;\n        start = 0;\n        step = 1;\n      } else if (!step) {\n        step = 1;\n      }\n      var arr = [];\n      if (step > 0) {\n        for (var i = start; i < stop; i += step) {\n          arr.push(i);\n        }\n      } else {\n        for (var _i = start; _i > stop; _i += step) {\n          // eslint-disable-line for-direction\n          arr.push(_i);\n        }\n      }\n      return arr;\n    },\n    cycler: function cycler() {\n      return _cycler(Array.prototype.slice.call(arguments));\n    },\n    joiner: function joiner(sep) {\n      return _joiner(sep);\n    }\n  };\n}\nmodule.exports = globals;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar path = __webpack_require__(0);\nmodule.exports = function express(env, app) {\n  function NunjucksView(name, opts) {\n    this.name = name;\n    this.path = name;\n    this.defaultEngine = opts.defaultEngine;\n    this.ext = path.extname(name);\n    if (!this.ext && !this.defaultEngine) {\n      throw new Error('No default engine was specified and no extension was provided.');\n    }\n    if (!this.ext) {\n      this.name += this.ext = (this.defaultEngine[0] !== '.' ? '.' : '') + this.defaultEngine;\n    }\n  }\n  NunjucksView.prototype.render = function render(opts, cb) {\n    env.render(this.name, opts, cb);\n  };\n  app.set('view', NunjucksView);\n  app.set('nunjucksEnv', env);\n  return env;\n};\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction installCompat() {\n  'use strict';\n\n  /* eslint-disable camelcase */\n\n  // This must be called like `nunjucks.installCompat` so that `this`\n  // references the nunjucks instance\n  var runtime = this.runtime;\n  var lib = this.lib;\n  // Handle slim case where these 'modules' are excluded from the built source\n  var Compiler = this.compiler.Compiler;\n  var Parser = this.parser.Parser;\n  var nodes = this.nodes;\n  var lexer = this.lexer;\n  var orig_contextOrFrameLookup = runtime.contextOrFrameLookup;\n  var orig_memberLookup = runtime.memberLookup;\n  var orig_Compiler_assertType;\n  var orig_Parser_parseAggregate;\n  if (Compiler) {\n    orig_Compiler_assertType = Compiler.prototype.assertType;\n  }\n  if (Parser) {\n    orig_Parser_parseAggregate = Parser.prototype.parseAggregate;\n  }\n  function uninstall() {\n    runtime.contextOrFrameLookup = orig_contextOrFrameLookup;\n    runtime.memberLookup = orig_memberLookup;\n    if (Compiler) {\n      Compiler.prototype.assertType = orig_Compiler_assertType;\n    }\n    if (Parser) {\n      Parser.prototype.parseAggregate = orig_Parser_parseAggregate;\n    }\n  }\n  runtime.contextOrFrameLookup = function contextOrFrameLookup(context, frame, key) {\n    var val = orig_contextOrFrameLookup.apply(this, arguments);\n    if (val !== undefined) {\n      return val;\n    }\n    switch (key) {\n      case 'True':\n        return true;\n      case 'False':\n        return false;\n      case 'None':\n        return null;\n      default:\n        return undefined;\n    }\n  };\n  function getTokensState(tokens) {\n    return {\n      index: tokens.index,\n      lineno: tokens.lineno,\n      colno: tokens.colno\n    };\n  }\n  if (false) {\n    // i.e., not slim mode\n    var Slice = nodes.Node.extend('Slice', {\n      fields: ['start', 'stop', 'step'],\n      init: function init(lineno, colno, start, stop, step) {\n        start = start || new nodes.Literal(lineno, colno, null);\n        stop = stop || new nodes.Literal(lineno, colno, null);\n        step = step || new nodes.Literal(lineno, colno, 1);\n        this.parent(lineno, colno, start, stop, step);\n      }\n    });\n    Compiler.prototype.assertType = function assertType(node) {\n      if (node instanceof Slice) {\n        return;\n      }\n      orig_Compiler_assertType.apply(this, arguments);\n    };\n    Compiler.prototype.compileSlice = function compileSlice(node, frame) {\n      this._emit('(');\n      this._compileExpression(node.start, frame);\n      this._emit('),(');\n      this._compileExpression(node.stop, frame);\n      this._emit('),(');\n      this._compileExpression(node.step, frame);\n      this._emit(')');\n    };\n    Parser.prototype.parseAggregate = function parseAggregate() {\n      var _this = this;\n      var origState = getTokensState(this.tokens);\n      // Set back one accounting for opening bracket/parens\n      origState.colno--;\n      origState.index--;\n      try {\n        return orig_Parser_parseAggregate.apply(this);\n      } catch (e) {\n        var errState = getTokensState(this.tokens);\n        var rethrow = function rethrow() {\n          lib._assign(_this.tokens, errState);\n          return e;\n        };\n\n        // Reset to state before original parseAggregate called\n        lib._assign(this.tokens, origState);\n        this.peeked = false;\n        var tok = this.peekToken();\n        if (tok.type !== lexer.TOKEN_LEFT_BRACKET) {\n          throw rethrow();\n        } else {\n          this.nextToken();\n        }\n        var node = new Slice(tok.lineno, tok.colno);\n\n        // If we don't encounter a colon while parsing, this is not a slice,\n        // so re-raise the original exception.\n        var isSlice = false;\n        for (var i = 0; i <= node.fields.length; i++) {\n          if (this.skip(lexer.TOKEN_RIGHT_BRACKET)) {\n            break;\n          }\n          if (i === node.fields.length) {\n            if (isSlice) {\n              this.fail('parseSlice: too many slice components', tok.lineno, tok.colno);\n            } else {\n              break;\n            }\n          }\n          if (this.skip(lexer.TOKEN_COLON)) {\n            isSlice = true;\n          } else {\n            var field = node.fields[i];\n            node[field] = this.parseExpression();\n            isSlice = this.skip(lexer.TOKEN_COLON) || isSlice;\n          }\n        }\n        if (!isSlice) {\n          throw rethrow();\n        }\n        return new nodes.Array(tok.lineno, tok.colno, [node]);\n      }\n    };\n  }\n  function sliceLookup(obj, start, stop, step) {\n    obj = obj || [];\n    if (start === null) {\n      start = step < 0 ? obj.length - 1 : 0;\n    }\n    if (stop === null) {\n      stop = step < 0 ? -1 : obj.length;\n    } else if (stop < 0) {\n      stop += obj.length;\n    }\n    if (start < 0) {\n      start += obj.length;\n    }\n    var results = [];\n    for (var i = start;; i += step) {\n      if (i < 0 || i > obj.length) {\n        break;\n      }\n      if (step > 0 && i >= stop) {\n        break;\n      }\n      if (step < 0 && i <= stop) {\n        break;\n      }\n      results.push(runtime.memberLookup(obj, i));\n    }\n    return results;\n  }\n  function hasOwnProp(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n  }\n  var ARRAY_MEMBERS = {\n    pop: function pop(index) {\n      if (index === undefined) {\n        return this.pop();\n      }\n      if (index >= this.length || index < 0) {\n        throw new Error('KeyError');\n      }\n      return this.splice(index, 1);\n    },\n    append: function append(element) {\n      return this.push(element);\n    },\n    remove: function remove(element) {\n      for (var i = 0; i < this.length; i++) {\n        if (this[i] === element) {\n          return this.splice(i, 1);\n        }\n      }\n      throw new Error('ValueError');\n    },\n    count: function count(element) {\n      var count = 0;\n      for (var i = 0; i < this.length; i++) {\n        if (this[i] === element) {\n          count++;\n        }\n      }\n      return count;\n    },\n    index: function index(element) {\n      var i;\n      if ((i = this.indexOf(element)) === -1) {\n        throw new Error('ValueError');\n      }\n      return i;\n    },\n    find: function find(element) {\n      return this.indexOf(element);\n    },\n    insert: function insert(index, elem) {\n      return this.splice(index, 0, elem);\n    }\n  };\n  var OBJECT_MEMBERS = {\n    items: function items() {\n      return lib._entries(this);\n    },\n    values: function values() {\n      return lib._values(this);\n    },\n    keys: function keys() {\n      return lib.keys(this);\n    },\n    get: function get(key, def) {\n      var output = this[key];\n      if (output === undefined) {\n        output = def;\n      }\n      return output;\n    },\n    has_key: function has_key(key) {\n      return hasOwnProp(this, key);\n    },\n    pop: function pop(key, def) {\n      var output = this[key];\n      if (output === undefined && def !== undefined) {\n        output = def;\n      } else if (output === undefined) {\n        throw new Error('KeyError');\n      } else {\n        delete this[key];\n      }\n      return output;\n    },\n    popitem: function popitem() {\n      var keys = lib.keys(this);\n      if (!keys.length) {\n        throw new Error('KeyError');\n      }\n      var k = keys[0];\n      var val = this[k];\n      delete this[k];\n      return [k, val];\n    },\n    setdefault: function setdefault(key, def) {\n      if (def === void 0) {\n        def = null;\n      }\n      if (!(key in this)) {\n        this[key] = def;\n      }\n      return this[key];\n    },\n    update: function update(kwargs) {\n      lib._assign(this, kwargs);\n      return null; // Always returns None\n    }\n  };\n\n  OBJECT_MEMBERS.iteritems = OBJECT_MEMBERS.items;\n  OBJECT_MEMBERS.itervalues = OBJECT_MEMBERS.values;\n  OBJECT_MEMBERS.iterkeys = OBJECT_MEMBERS.keys;\n  runtime.memberLookup = function memberLookup(obj, val, autoescape) {\n    if (arguments.length === 4) {\n      return sliceLookup.apply(this, arguments);\n    }\n    obj = obj || {};\n\n    // If the object is an object, return any of the methods that Python would\n    // otherwise provide.\n    if (lib.isArray(obj) && hasOwnProp(ARRAY_MEMBERS, val)) {\n      return ARRAY_MEMBERS[val].bind(obj);\n    }\n    if (lib.isObject(obj) && hasOwnProp(OBJECT_MEMBERS, val)) {\n      return OBJECT_MEMBERS[val].bind(obj);\n    }\n    return orig_memberLookup.apply(this, arguments);\n  };\n  return uninstall;\n}\nmodule.exports = installCompat;\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=nunjucks-slim.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WebpackPrecompiledLoader = WebpackPrecompiledLoader;\n\nfunction WebpackPrecompiledLoader(precompiled = {}) {\n  this.precompiled = precompiled;\n}\n\nWebpackPrecompiledLoader.prototype.getSource = function getSource(name) {\n  if (!(name in this.precompiled)) {\n    return null;\n  }\n\n  return {\n    src: {\n      type: 'code',\n      obj: this.precompiled[name]\n    },\n    path: name\n  };\n};","\n        \n    const runtime = require(\"../../node_modules/simple-nunjucks-loader/lib/cjs/runtime.js\");\n    \n    const __nunjucks_module_dependencies__ = {};\n    \n    __nunjucks_module_dependencies__.templates = {};\n    __nunjucks_module_dependencies__.globals = {};\n    __nunjucks_module_dependencies__.extensions = {};\n    __nunjucks_module_dependencies__.filters = {};\n    __nunjucks_module_dependencies__.assets = {};\n    \n    \n    \n    \n    \n    \n        \n            __nunjucks_module_dependencies__.templates[\"src/templates/accordion.njk\"] = (function() {\n                function root(env, context, frame, runtime, cb) {\nvar lineno = 0;\nvar colno = 0;\nvar output = \"\";\ntry {\nvar parentTemplate = null;\noutput += \"<div class=\\\"accordion-item mb-3\\\">\\n    <h2 class=\\\"accordion-header\\\" id=\\\"headingOne\\\">\\n        <button class=\\\"accordion-button collapsed\\\" type=\\\"button\\\" data-bs-toggle=\\\"collapse\\\" data-bs-target=\\\"#\";\noutput += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, \"id\"), env.opts.autoescape);\noutput += \"\\\"\\n            aria-expanded=\\\"false\\\" aria-controls=\\\"\";\noutput += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, \"id\"), env.opts.autoescape);\noutput += \"\\\">\\n            \";\noutput += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, \"category\"), env.opts.autoescape);\noutput += \"\\n        </button> \\n    </h2>\\n    <div id=\\\"\";\noutput += runtime.suppressValue(runtime.contextOrFrameLookup(context, frame, \"id\"), env.opts.autoescape);\noutput += \"\\\" class=\\\"accordion-collapse collapse\\\" aria-labelledby=\\\"headingOne\\\"\\n        data-bs-parent=\\\"#dataAccordion\\\">\\n        <div class=\\\"accordion-body\\\">\\n            <table class=\\\"table table-bordered\\\">\\n                <thead>\\n                    <tr>\\n                        <th>ID</th>\\n                        <th>Value</th>\\n                    </tr>\\n                </thead>\\n                <tbody>\\n                \";\noutput += runtime.suppressValue(env.getFilter(\"safe\").call(context, runtime.contextOrFrameLookup(context, frame, \"tabledata\")), env.opts.autoescape);\noutput += \"\\n                </tbody>\\n            </table>\\n        </div>\\n    </div>\\n</div>\";\nif(parentTemplate) {\nparentTemplate.rootRenderFunc(env, context, frame, runtime, cb);\n} else {\ncb(null, output);\n}\n;\n} catch (e) {\n  cb(runtime.handleError(e, lineno, colno));\n}\n}\nreturn {\nroot: root\n};\n\n            })();\n        \n\n        function nunjucksTemplate(ctx = {}) {\n            const templateContext = {\n                __nunjucks_loader_assets__: __nunjucks_module_dependencies__.assets,\n                ...ctx\n            };\n\n            var nunjucks = (runtime && runtime.default || runtime)(\n                {\"dev\":false,\"jinjaCompat\":false,\"isAsyncTemplate\":false},\n                __nunjucks_module_dependencies__\n            );\n\n            if (nunjucks.isAsync()) {\n                return nunjucks.renderAsync(\n                    \"src/templates/accordion.njk\",\n                    templateContext\n                );\n            }\n        \n            return nunjucks.render(\n                \"src/templates/accordion.njk\",\n                templateContext\n            );\n        };\n\n        nunjucksTemplate.__nunjucks_precompiled_template__ = __nunjucks_module_dependencies__.templates[\"src/templates/accordion.njk\"];\n        nunjucksTemplate.__nunjucks_module_dependencies__ = __nunjucks_module_dependencies__;\n\n        exports = module.exports = nunjucksTemplate;\n    ","\n        \n    const runtime = require(\"../../node_modules/simple-nunjucks-loader/lib/cjs/runtime.js\");\n    \n    const __nunjucks_module_dependencies__ = {};\n    \n    __nunjucks_module_dependencies__.templates = {};\n    __nunjucks_module_dependencies__.globals = {};\n    __nunjucks_module_dependencies__.extensions = {};\n    __nunjucks_module_dependencies__.filters = {};\n    __nunjucks_module_dependencies__.assets = {};\n    \n    \n    \n    \n    \n    \n        \n            __nunjucks_module_dependencies__.templates[\"src/templates/results.njk\"] = (function() {\n                function root(env, context, frame, runtime, cb) {\nvar lineno = 0;\nvar colno = 0;\nvar output = \"\";\ntry {\nvar parentTemplate = null;\noutput += \"<div class=\\\"card mt-2\\\">\\n    <div class=\\\"card-body\\\">\\n        <h5 id=\\\"result\\\" class=\\\"card-title mb-3\\\">Result</h5>\\n        <table class=\\\"table table-spacing table-bordered\\\">\\n            <thead>\\n                <tr>\\n                    <th>Name</th>\\n                    <th>Value</th>\\n                </tr>\\n            </thead>\\n            <tbody id=\\\"tableresult\\\"></tbody>\\n        </table>\\n        <div class=\\\"accordion\\\" id=\\\"dataAccordion\\\"></div>\\n    </div>\\n</div>\\n</div>\";\nif(parentTemplate) {\nparentTemplate.rootRenderFunc(env, context, frame, runtime, cb);\n} else {\ncb(null, output);\n}\n;\n} catch (e) {\n  cb(runtime.handleError(e, lineno, colno));\n}\n}\nreturn {\nroot: root\n};\n\n            })();\n        \n\n        function nunjucksTemplate(ctx = {}) {\n            const templateContext = {\n                __nunjucks_loader_assets__: __nunjucks_module_dependencies__.assets,\n                ...ctx\n            };\n\n            var nunjucks = (runtime && runtime.default || runtime)(\n                {\"dev\":false,\"jinjaCompat\":false,\"isAsyncTemplate\":false},\n                __nunjucks_module_dependencies__\n            );\n\n            if (nunjucks.isAsync()) {\n                return nunjucks.renderAsync(\n                    \"src/templates/results.njk\",\n                    templateContext\n                );\n            }\n        \n            return nunjucks.render(\n                \"src/templates/results.njk\",\n                templateContext\n            );\n        };\n\n        nunjucksTemplate.__nunjucks_precompiled_template__ = __nunjucks_module_dependencies__.templates[\"src/templates/results.njk\"];\n        nunjucksTemplate.__nunjucks_module_dependencies__ = __nunjucks_module_dependencies__;\n\n        exports = module.exports = nunjucksTemplate;\n    ","\n        \n    const runtime = require(\"../../node_modules/simple-nunjucks-loader/lib/cjs/runtime.js\");\n    \n    const __nunjucks_module_dependencies__ = {};\n    \n    __nunjucks_module_dependencies__.templates = {};\n    __nunjucks_module_dependencies__.globals = {};\n    __nunjucks_module_dependencies__.extensions = {};\n    __nunjucks_module_dependencies__.filters = {};\n    __nunjucks_module_dependencies__.assets = {};\n    \n    \n    \n    \n    \n    \n        \n            __nunjucks_module_dependencies__.templates[\"src/templates/tabledata.njk\"] = (function() {\n                function root(env, context, frame, runtime, cb) {\nvar lineno = 0;\nvar colno = 0;\nvar output = \"\";\ntry {\nvar parentTemplate = null;\noutput += \"<tr>\\n    <td>\";\noutput += runtime.suppressValue(env.getFilter(\"safe\").call(context, runtime.contextOrFrameLookup(context, frame, \"key\")), env.opts.autoescape);\noutput += \"</td>\\n    <td>\";\noutput += runtime.suppressValue(env.getFilter(\"safe\").call(context, runtime.contextOrFrameLookup(context, frame, \"value\")), env.opts.autoescape);\noutput += \"</td>\\n</tr>\";\nif(parentTemplate) {\nparentTemplate.rootRenderFunc(env, context, frame, runtime, cb);\n} else {\ncb(null, output);\n}\n;\n} catch (e) {\n  cb(runtime.handleError(e, lineno, colno));\n}\n}\nreturn {\nroot: root\n};\n\n            })();\n        \n\n        function nunjucksTemplate(ctx = {}) {\n            const templateContext = {\n                __nunjucks_loader_assets__: __nunjucks_module_dependencies__.assets,\n                ...ctx\n            };\n\n            var nunjucks = (runtime && runtime.default || runtime)(\n                {\"dev\":false,\"jinjaCompat\":false,\"isAsyncTemplate\":false},\n                __nunjucks_module_dependencies__\n            );\n\n            if (nunjucks.isAsync()) {\n                return nunjucks.renderAsync(\n                    \"src/templates/tabledata.njk\",\n                    templateContext\n                );\n            }\n        \n            return nunjucks.render(\n                \"src/templates/tabledata.njk\",\n                templateContext\n            );\n        };\n\n        nunjucksTemplate.__nunjucks_precompiled_template__ = __nunjucks_module_dependencies__.templates[\"src/templates/tabledata.njk\"];\n        nunjucksTemplate.__nunjucks_module_dependencies__ = __nunjucks_module_dependencies__;\n\n        exports = module.exports = nunjucksTemplate;\n    ","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = runtime;\n\nvar _nunjucksSlim = _interopRequireDefault(require(\"nunjucks/browser/nunjucks-slim\"));\n\nvar _WebpackPrecompiledLoader = require(\"./WebpackPrecompiledLoader\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction runtime(options, {\n  globals,\n  extensions,\n  filters,\n  templates: precompiled\n}) {\n  if (options.jinjaCompat === true) {\n    _nunjucksSlim.default.installJinjaCompat();\n  }\n\n  const env = new _nunjucksSlim.default.Environment(new _WebpackPrecompiledLoader.WebpackPrecompiledLoader(precompiled), options);\n\n  for (const globalName in globals) {\n    if (!Object.prototype.hasOwnProperty.call(globals, globalName)) {\n      continue;\n    }\n\n    env.addGlobal(globalName, globals[globalName].module);\n  }\n\n  for (const extensionName in extensions) {\n    if (!Object.prototype.hasOwnProperty.call(extensions, extensionName)) {\n      continue;\n    }\n\n    env.addExtension(extensionName, extensions[extensionName].module);\n  }\n\n  for (const filterName in filters) {\n    if (!Object.prototype.hasOwnProperty.call(filters, filterName)) {\n      continue;\n    }\n\n    env.addFilter(filterName, filters[filterName].module, filters[filterName].async === true);\n  }\n\n  return {\n    render(name, ctx) {\n      return env.render(name, ctx);\n    },\n\n    renderAsync(name, ctx) {\n      return new Promise(function renderCallback(resolve, reject) {\n        env.render(name, ctx, function (error, response) {\n          if (error) {\n            return reject(error);\n          }\n\n          resolve(response);\n        });\n      });\n    },\n\n    isAsync() {\n      return options.isAsyncTemplate === true || Object.values(filters).some(({\n        async\n      }) => async === true);\n    }\n\n  };\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/**\n * class for encoding errors\n *\n * @extends {Error}\n */\nclass EncodingError extends Error {\n    /**\n     * constructor - constructs an EncodingError\n     *\n     * @param {string} msg - Encoding Error Message\n     * @return {undefined}\n     */\n    constructor(msg) {\n        super(msg);\n        this.name = 'EncodingError';\n    }\n}\nexport { EncodingError };\n","/**\n * class for decoding errors\n *\n * @extends {Error}\n */\nclass DecodingError extends Error {\n    /**\n     * constructor - constructs an DecodingError\n     *\n     * @param {string} msg - Decoding Error Message\n     * @return {undefined}\n     */\n    constructor(msg) {\n        super(msg);\n        this.name = 'DecodingError';\n    }\n}\nexport { DecodingError };\n","import { DecodingError, EncodingError } from '../errors/index.js';\nexport class Base64Url {\n    /**\n     * Base 64 URL character set.  Different from standard Base64 char set\n     * in that '+' and '/' are replaced with '-' and '_'.\n     */\n    static DICT = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';\n    static REVERSE_DICT = new Map([\n        ['A', 0], ['B', 1], ['C', 2], ['D', 3], ['E', 4], ['F', 5],\n        ['G', 6], ['H', 7], ['I', 8], ['J', 9], ['K', 10], ['L', 11],\n        ['M', 12], ['N', 13], ['O', 14], ['P', 15], ['Q', 16], ['R', 17],\n        ['S', 18], ['T', 19], ['U', 20], ['V', 21], ['W', 22], ['X', 23],\n        ['Y', 24], ['Z', 25], ['a', 26], ['b', 27], ['c', 28], ['d', 29],\n        ['e', 30], ['f', 31], ['g', 32], ['h', 33], ['i', 34], ['j', 35],\n        ['k', 36], ['l', 37], ['m', 38], ['n', 39], ['o', 40], ['p', 41],\n        ['q', 42], ['r', 43], ['s', 44], ['t', 45], ['u', 46], ['v', 47],\n        ['w', 48], ['x', 49], ['y', 50], ['z', 51], ['0', 52], ['1', 53],\n        ['2', 54], ['3', 55], ['4', 56], ['5', 57], ['6', 58], ['7', 59],\n        ['8', 60], ['9', 61], ['-', 62], ['_', 63],\n    ]);\n    /**\n     * log2(64) = 6\n     */\n    static BASIS = 6;\n    static LCM = 24;\n    /**\n     * encodes an arbitrary-length bitfield string into base64url\n     *\n     * @static\n     * @param {string} str - arbitrary-length bitfield string to be encoded to base64url\n     * @return {string} - base64url encoded result\n     */\n    static encode(str) {\n        /**\n         * should only be 0 or 1\n         */\n        if (!/^[0-1]+$/.test(str)) {\n            throw new EncodingError('Invalid bitField');\n        }\n        /**\n         * Pad the end of the string to the least common mutliple of 6 (basis for\n         * base64) and 8 (one byte)\n         */\n        const padding = str.length % this.LCM;\n        str += padding ? '0'.repeat(this.LCM - padding) : '';\n        let result = '';\n        for (let i = 0; i < str.length; i += this.BASIS) {\n            result += this.DICT[parseInt(str.substr(i, this.BASIS), 2)];\n        }\n        return result;\n    }\n    /**\n     * decodes a base64url encoded bitfield string\n     *\n     * @static\n     * @param {string} str - base64url encoded bitfield string to be decoded\n     * @return {string} - bitfield string\n     */\n    static decode(str) {\n        /**\n         * should contain only characters from the base64url set\n         */\n        if (!/^[A-Za-z0-9\\-_]+$/.test(str)) {\n            throw new DecodingError('Invalidly encoded Base64URL string');\n        }\n        let result = '';\n        for (let i = 0; i < str.length; i++) {\n            /**\n             * index the binary value of the character from out reverse map\n             */\n            const strBits = this.REVERSE_DICT.get(str[i]).toString(2);\n            /**\n             * Since a bit string converted to an integer on encoding will lose\n             * leading zeros  pad to the left for those missing leading zeros\n             */\n            result += '0'.repeat(this.BASIS - strBits.length) + strBits;\n        }\n        return result;\n    }\n}\n","export class ConsentLanguages {\n    static langSet = new Set([\n        'BG',\n        'CA',\n        'CS',\n        'DA',\n        'DE',\n        'EL',\n        'EN',\n        'ES',\n        'ET',\n        'FI',\n        'FR',\n        'HR',\n        'HU',\n        'IT',\n        'JA',\n        'LT',\n        'LV',\n        'MT',\n        'NL',\n        'NO',\n        'PL',\n        'PT',\n        'RO',\n        'RU',\n        'SK',\n        'SL',\n        'SV',\n        'TR',\n        'ZH',\n    ]);\n    has(key) {\n        return ConsentLanguages.langSet.has(key);\n    }\n    forEach(callback) {\n        ConsentLanguages.langSet.forEach(callback);\n    }\n    get size() {\n        return ConsentLanguages.langSet.size;\n    }\n}\n","export class Fields {\n    static cmpId = 'cmpId';\n    static cmpVersion = 'cmpVersion';\n    static consentLanguage = 'consentLanguage';\n    static consentScreen = 'consentScreen';\n    static created = 'created';\n    static supportOOB = 'supportOOB';\n    static isServiceSpecific = 'isServiceSpecific';\n    static lastUpdated = 'lastUpdated';\n    static numCustomPurposes = 'numCustomPurposes';\n    static policyVersion = 'policyVersion';\n    static publisherCountryCode = 'publisherCountryCode';\n    static publisherCustomConsents = 'publisherCustomConsents';\n    static publisherCustomLegitimateInterests = 'publisherCustomLegitimateInterests';\n    static publisherLegitimateInterests = 'publisherLegitimateInterests';\n    static publisherConsents = 'publisherConsents';\n    static publisherRestrictions = 'publisherRestrictions';\n    static purposeConsents = 'purposeConsents';\n    static purposeLegitimateInterests = 'purposeLegitimateInterests';\n    static purposeOneTreatment = 'purposeOneTreatment';\n    static specialFeatureOptins = 'specialFeatureOptins';\n    static useNonStandardStacks = 'useNonStandardStacks';\n    static vendorConsents = 'vendorConsents';\n    static vendorLegitimateInterests = 'vendorLegitimateInterests';\n    static vendorListVersion = 'vendorListVersion';\n    static vendorsAllowed = 'vendorsAllowed';\n    static vendorsDisclosed = 'vendorsDisclosed';\n    static version = 'version';\n}\n","/**\n * Abstract Class Cloneable<T> can be extended to give the child class the ability to clone its self.\n * The child class must pass its class to super. You can then pass any needed arguments to help build\n * the cloned class to the protected _clone() method.\n *\n * Example:\n *\n * class Example extends Cloneable<Example> {\n *\n * }\n * Todo: There must be more non primitive build in types to check. But for our current purposes, this works great.\n */\nexport class Cloneable {\n    /**\n     * clone - returns a copy of the classes with new values and not references\n     *\n     * @return {T}\n     */\n    clone() {\n        const myClone = new this.constructor();\n        const keys = Object.keys(this);\n        keys.forEach((key) => {\n            const value = this.deepClone(this[key]);\n            if (value !== undefined) {\n                myClone[key] = value;\n            }\n        });\n        return myClone;\n    }\n    ;\n    /**\n     * deepClone - recursive function that makes copies of reference values\n     *\n     * @param {unknown} item\n     * @return {unknown}\n     */\n    deepClone(item) {\n        const itsType = typeof item;\n        if (itsType === 'number' || itsType === 'string' || itsType === 'boolean') {\n            return item;\n        }\n        else if (item !== null && itsType === 'object') {\n            if (typeof item.clone === 'function') {\n                return item.clone();\n            }\n            else if (item instanceof Date) {\n                return new Date(item.getTime());\n            }\n            else if (item[Symbol.iterator] !== undefined) {\n                const ar = [];\n                for (const subItem of item) {\n                    ar.push(this.deepClone(subItem));\n                }\n                if (item instanceof Array) {\n                    return ar;\n                }\n                else {\n                    return new item.constructor(ar);\n                }\n            }\n            else {\n                const retr = {};\n                for (const prop in item) {\n                    if (item.hasOwnProperty(prop)) {\n                        retr[prop] = this.deepClone(item[prop]);\n                    }\n                }\n                return retr;\n            }\n        }\n        /**\n         * ignore functions because those will be initialized with the cloning\n         * process\n         */\n    }\n}\n","/**\n * class for decoding errors\n *\n * @extends {Error}\n */\nclass TCModelError extends Error {\n    /**\n     * constructor - constructs an TCModelError\n     *\n     * @param {string} fieldName - the errored field\n     * @param {string} passedValue - what was passed\n     * @return {undefined}\n     */\n    constructor(fieldName, passedValue, msg = '') {\n        super(`invalid value ${passedValue} passed for ${fieldName} ${msg}`);\n        this.name = 'TCModelError';\n    }\n}\nexport { TCModelError };\n","/**\n * if a Vendor has declared flexible purposes (see: [[Vendor]] under\n * `flexiblePurposeIds`) on the Global Vendor List ([[Declarations]]) a CMP may\n * change their legal basis for processing in the encoding.\n */\nexport var RestrictionType;\n(function (RestrictionType) {\n    /**\n     * under no circumstances is this purpose allowed.\n     */\n    RestrictionType[RestrictionType[\"NOT_ALLOWED\"] = 0] = \"NOT_ALLOWED\";\n    /**\n     * if the default declaration is legitimate interest then this flips the purpose to consent in the encoding.\n     */\n    RestrictionType[RestrictionType[\"REQUIRE_CONSENT\"] = 1] = \"REQUIRE_CONSENT\";\n    /**\n     * if the default declaration is consent then this flips the purpose to Legitimate Interest in the encoding.\n     */\n    RestrictionType[RestrictionType[\"REQUIRE_LI\"] = 2] = \"REQUIRE_LI\";\n})(RestrictionType || (RestrictionType = {}));\n","export var DeviceDisclosureStorageAccessType;\n(function (DeviceDisclosureStorageAccessType) {\n    DeviceDisclosureStorageAccessType[\"COOKIE\"] = \"cookie\";\n    DeviceDisclosureStorageAccessType[\"WEB\"] = \"web\";\n    DeviceDisclosureStorageAccessType[\"APP\"] = \"app\";\n})(DeviceDisclosureStorageAccessType || (DeviceDisclosureStorageAccessType = {}));\n","export var Segment;\n(function (Segment) {\n    Segment[\"CORE\"] = \"core\";\n    Segment[\"VENDORS_DISCLOSED\"] = \"vendorsDisclosed\";\n    Segment[\"VENDORS_ALLOWED\"] = \"vendorsAllowed\";\n    Segment[\"PUBLISHER_TC\"] = \"publisherTC\";\n})(Segment || (Segment = {}));\n","export var VectorEncodingType;\n(function (VectorEncodingType) {\n    VectorEncodingType[VectorEncodingType[\"FIELD\"] = 0] = \"FIELD\";\n    VectorEncodingType[VectorEncodingType[\"RANGE\"] = 1] = \"RANGE\";\n})(VectorEncodingType || (VectorEncodingType = {}));\n","import { Cloneable } from '../Cloneable.js';\nimport { TCModelError } from '../errors/index.js';\nimport { RestrictionType } from './RestrictionType.js';\nexport class PurposeRestriction extends Cloneable {\n    static hashSeparator = '-';\n    purposeId_;\n    restrictionType;\n    /**\n     * constructor\n     *\n     * @param {number} purposeId? - may optionally pass the purposeId into the\n     * constructor\n     * @param {RestrictionType} restrictionType? - may\n     * optionally pass the restrictionType into the constructor\n     * @return {undefined}\n     */\n    constructor(purposeId, restrictionType) {\n        super();\n        if (purposeId !== undefined) {\n            this.purposeId = purposeId;\n        }\n        if (restrictionType !== undefined) {\n            this.restrictionType = restrictionType;\n        }\n    }\n    static unHash(hash) {\n        const splitUp = hash.split(this.hashSeparator);\n        const purpRestriction = new PurposeRestriction();\n        if (splitUp.length !== 2) {\n            throw new TCModelError('hash', hash);\n        }\n        purpRestriction.purposeId = parseInt(splitUp[0], 10);\n        purpRestriction.restrictionType = parseInt(splitUp[1], 10);\n        return purpRestriction;\n    }\n    get hash() {\n        if (!this.isValid()) {\n            throw new Error('cannot hash invalid PurposeRestriction');\n        }\n        return `${this.purposeId}${PurposeRestriction.hashSeparator}${this.restrictionType}`;\n    }\n    /**\n     * @return {number} The purpose Id associated with a publisher\n     * purpose-by-vendor restriction that resulted in a different consent or LI\n     * status than the consent or LI purposes allowed lists.\n     */\n    get purposeId() {\n        return this.purposeId_;\n    }\n    /**\n     * @param {number} idNum - The purpose Id associated with a publisher\n     * purpose-by-vendor restriction that resulted in a different consent or LI\n     * status than the consent or LI purposes allowed lists.\n     */\n    set purposeId(idNum) {\n        this.purposeId_ = idNum;\n    }\n    isValid() {\n        return (Number.isInteger(this.purposeId) &&\n            this.purposeId > 0 &&\n            (this.restrictionType === RestrictionType.NOT_ALLOWED ||\n                this.restrictionType === RestrictionType.REQUIRE_CONSENT ||\n                this.restrictionType === RestrictionType.REQUIRE_LI));\n    }\n    isSameAs(otherPR) {\n        return (this.purposeId === otherPR.purposeId &&\n            this.restrictionType === otherPR.restrictionType);\n    }\n}\n","import { Cloneable } from '../Cloneable.js';\nexport class BinarySearchTree extends Cloneable {\n    root = null;\n    getRoot() {\n        return this.root;\n    }\n    isEmpty() {\n        // if root is undefined or null then by definition this is empty\n        return !(this.root);\n    }\n    add(value) {\n        // create new node object\n        const node = {\n            value: value,\n            left: null,\n            right: null,\n        };\n        let current;\n        // first item?\n        if (this.isEmpty()) {\n            this.root = node;\n        }\n        else {\n            // start at the root\n            current = this.root;\n            // infinite loop, figure out where to put it\n            while (true) {\n                // if the value is less than current value; go left\n                if (value < current.value) {\n                    // if it's empty, we can insert\n                    if (current.left === null) {\n                        // insert on the left\n                        current.left = node;\n                        // our work is done here\n                        break;\n                    }\n                    else {\n                        /**\n                         * if there's something there already, we'll reset the pointer and\n                         * wait for the next loop to do something ie. keep traversing\n                         */\n                        current = current.left;\n                    }\n                }\n                else if (value > current.value) {\n                    // if the value is greater than our current value; go right\n                    if (current.right === null) {\n                        // there's nothing to the right, so put it here\n                        current.right = node;\n                        break;\n                    }\n                    else {\n                        /**\n                         * if there's something there already, we'll reset the pointer and\n                         * wait for the next loop to do something ie. keep traversing\n                         */\n                        current = current.right;\n                    }\n                }\n                else {\n                    /**\n                     * If it's neither greater than the right or less than the right then\n                     * it is equal to the current nodes value.  In that case we won't do\n                     * anything with it because we will only insert unique values.\n                     */\n                    break;\n                }\n            }\n        }\n    }\n    /**\n     * performs Morris in-order traversal\n     * @return {number[]} sorted array\n     */\n    get() {\n        const retr = [];\n        let current = this.root;\n        while (current) {\n            if (!current.left) {\n                retr.push(current.value); // if there is no left child, visit current node\n                current = current.right; // then we go the right branch\n            }\n            else {\n                // find the right most leaf of root.left node.\n                let pre = current.left;\n                // when pre.right == null, it means we go to the right most leaf\n                // when pre.right == current, it means the right most leaf has been visited in the last round\n                while (pre.right && pre.right != current) {\n                    pre = pre.right;\n                }\n                // this means the pre.right has been set, it's time to go to current node\n                if (pre.right == current) {\n                    pre.right = null;\n                    // means the current node is pointed by left right most child\n                    // the left branch has been visited, it's time to push the current node\n                    retr.push(current.value);\n                    current = current.right;\n                }\n                else {\n                    // the fist time to visit the pre node, make its right child point to current node\n                    pre.right = current;\n                    current = current.left;\n                }\n            }\n        }\n        return retr;\n    }\n    contains(value) {\n        let retr = false;\n        let current = this.root;\n        while (current) {\n            if (current.value === value) {\n                retr = true;\n                break;\n            }\n            else if (value > current.value) {\n                current = current.right;\n            }\n            else if (value < current.value) {\n                current = current.left;\n            }\n        }\n        return retr;\n    }\n    min(current = this.root) {\n        let retr;\n        while (current) {\n            if (current.left) {\n                current = current.left;\n            }\n            else {\n                retr = current.value;\n                current = null;\n            }\n        }\n        return retr;\n    }\n    max(current = this.root) {\n        let retr;\n        while (current) {\n            if (current.right) {\n                current = current.right;\n            }\n            else {\n                retr = current.value;\n                current = null;\n            }\n        }\n        return retr;\n    }\n    remove(value, current = this.root) {\n        // we start at the root, so the parent is null\n        let parent = null;\n        let parentSide = 'left';\n        while (current) {\n            if (value < current.value) {\n                // set our parent to the current value\n                parent = current;\n                // value is less than current value, so go left\n                current = current.left;\n                parentSide = 'left';\n            }\n            else if (value > current.value) {\n                // set our parent to the current value\n                parent = current;\n                // value is greater than current value, so go right\n                current = current.right;\n                parentSide = 'right';\n            }\n            else {\n                /**\n                   * if it's neither greater than or less than, then it's equal so BINGO!\n                   * we've found it\n                   *\n                   * If we have children, we've got to figure out what to do with\n                   * them once we are no longer around...  Woah, code is like real\n                   * life...\n                   *\n                   * There are three cases we care about when it comes to this removal\n                   * process:\n                   *\n                   * 1. No children -- If not children we just delete an do nothing\n                   * else, no harm no foul.\n                   *\n                   * 2. One child -- Just link the parent's link to current to the\n                   * child.\n                   *\n                   * 3. Two children --  Find the minimum value from the right subtree\n                   * replace us with the minimum value and of course remove that\n                   * minimum value from the right stubtree\n                   */\n                if (!current.left && !current.right) {\n                    // case 1 there are no children easy peasy lemon squeezy\n                    if (parent) {\n                        parent[parentSide] = null;\n                    }\n                    else {\n                        this.root = null;\n                    }\n                }\n                else if (!current.left) {\n                    // no left side only right, so link right\n                    if (parent) {\n                        parent[parentSide] = current.right;\n                    }\n                    else {\n                        this.root = current.right;\n                    }\n                }\n                else if (!current.right) {\n                    // no right side only left, so link left\n                    if (parent) {\n                        parent[parentSide] = current.left;\n                    }\n                    else {\n                        this.root = current.left;\n                    }\n                }\n                else {\n                    /**\n                     * case 3 just like real life, if you delete a parent the more kids\n                     * that parent has the more complicated things get... in this case we\n                     * have two children.  We're gonna have to figure out who goes where.\n                     */\n                    const minVal = this.min(current.right);\n                    // little bit of recursion...\n                    this.remove(minVal, current.right);\n                    current.value = minVal;\n                }\n                current = null;\n            }\n        }\n    }\n    /**\n     * Build Binary Search Tree from the ordered number array.\n     *  The depth of the tree will be the `log2` of the array length.\n     * @param {number[]} values number array in ascending order\n     * @return {BinarySearchTree} Binary Search Tree\n     */\n    static build(values) {\n        if (!values || values.length === 0) {\n            return null;\n        }\n        else if (values.length === 1) {\n            const tree = new BinarySearchTree();\n            tree.add(values[0]);\n            return tree;\n        }\n        else {\n            const rootIndex = values.length >> 1;\n            const tree = new BinarySearchTree();\n            tree.add(values[rootIndex]);\n            const root = tree.getRoot();\n            if (root) {\n                if (rootIndex + 1 < values.length) {\n                    const rightTree = BinarySearchTree.build(values.slice(rootIndex + 1));\n                    root.right = rightTree ? rightTree.getRoot() : null;\n                }\n                if (rootIndex - 1 > 0) {\n                    const leftTree = BinarySearchTree.build(values.slice(0, rootIndex - 1));\n                    root.left = leftTree ? leftTree.getRoot() : null;\n                }\n            }\n            return tree;\n        }\n    }\n}\n","import { PurposeRestriction } from './PurposeRestriction.js';\nimport { BinarySearchTree } from './BinarySearchTree.js';\nimport { RestrictionType } from './RestrictionType.js';\nimport { Cloneable } from '../Cloneable.js';\nexport class PurposeRestrictionVector extends Cloneable {\n    /**\n     * if this originatd from an encoded string we'll need a place to store the\n     * bit length; it can be set and got from here\n     */\n    bitLength = 0;\n    /**\n     * a map indexed by a string which will be a 'hash' of the purpose and\n     * restriction type.\n     *\n     * Using a BST to keep vendors in a sorted order for encoding later\n     */\n    map = new Map();\n    gvl_;\n    has(hash) {\n        return this.map.has(hash);\n    }\n    isOkToHave(restrictionType, purposeId, vendorId) {\n        let result = true;\n        /**\n         * without a gvl set, there's no way to know... in that case we'll return\n         * true but once the GVL is set later we'll go through these and clean up\n         * the mess.\n         */\n        if (this.gvl?.vendors) {\n            const vendor = this.gvl.vendors[vendorId];\n            if (vendor) {\n                if (restrictionType === RestrictionType.NOT_ALLOWED) {\n                    /**\n                     * if it's \"not allowed\" then flexible declaration is ignored but if\n                     * if it isn't even listed as one of the purposes the vendor uses,\n                     * then there is no reason to encode the value so check both arrays\n                     * to see if it exists.  If it does then we can restrict it.\n                     */\n                    result = (vendor.legIntPurposes.includes(purposeId) || vendor.purposes.includes(purposeId));\n                }\n                else if (vendor.flexiblePurposes.length) {\n                    switch (restrictionType) {\n                        /**\n                         * If the vendor has the purposeId in flexiblePurposes and it is\n                         * listed as a legitimate interest purpose we can set the\n                         * override to require consent.\n                         */\n                        case RestrictionType.REQUIRE_CONSENT:\n                            result = (vendor.flexiblePurposes.includes(purposeId) && vendor.legIntPurposes.includes(purposeId));\n                            break;\n                        /**\n                         * If the vendor has the purposeId in flexiblePurposes and it is\n                         * listed as a consent purpose we can set the\n                         * override to require legitimate interest.\n                         */\n                        case RestrictionType.REQUIRE_LI:\n                            result = (vendor.flexiblePurposes.includes(purposeId) && vendor.purposes.includes(purposeId));\n                            break;\n                    }\n                }\n                else {\n                    result = false;\n                }\n            }\n            else {\n                // this vendor doesn't exist\n                result = false;\n            }\n        }\n        // if the gvl isn't defined, we can't do anything until later\n        return result;\n    }\n    /**\n     * add - adds a given Vendor ID under a given Purpose Restriction\n     *\n     * @param {number} vendorId\n     * @param {PurposeRestriction} purposeRestriction\n     * @return {void}\n     */\n    add(vendorId, purposeRestriction) {\n        if (this.isOkToHave(purposeRestriction.restrictionType, purposeRestriction.purposeId, vendorId)) {\n            const hash = purposeRestriction.hash;\n            if (!this.has(hash)) {\n                this.map.set(hash, new BinarySearchTree());\n                this.bitLength = 0;\n            }\n            /**\n             * Previously I had a check here to remove a duplicate value, but because\n             * we're using a tree the value is guaranteed to be unique so there is no\n             * need to add an additional de-duplication here.\n             */\n            this.map.get(hash).add(vendorId);\n        }\n    }\n    /**\n     * restrictPurposeToLegalBasis - adds all Vendors under a given Purpose Restriction\n     *\n     * @param {PurposeRestriction} purposeRestriction\n     * @return {void}\n     */\n    restrictPurposeToLegalBasis(purposeRestriction) {\n        const vendors = this.gvl.vendorIds;\n        const hash = purposeRestriction.hash;\n        const lastEntry = (function () {\n            let value;\n            for (value of vendors)\n                ;\n            return value;\n        })();\n        /**\n         * Create an ordered array of vendor IDs from `1` (the minimum value for Vendor ID) to `lastEntry`\n         */\n        const values = [...Array(lastEntry).keys()].map((i) => i + 1);\n        for (let i = 1; i <= lastEntry; i++) {\n            if (!this.has(hash)) {\n                this.map.set(hash, BinarySearchTree.build(values)); // use static method `build` to create a `BST` from the ordered array of IDs\n                this.bitLength = 0;\n            }\n            /**\n             * Previously I had a check here to remove a duplicate value, but because\n             * we're using a tree the value is guaranteed to be unique so there is no\n             * need to add an additional de-duplication here.\n             */\n            this.map.get(hash).add(i);\n        }\n    }\n    /**\n     * getVendors - returns array of vendor ids optionally narrowed by a given\n     * Purpose Restriction.  If no purpose restriction is passed then all vendor\n     * ids will be returned.  One can expect this result to be a unique set of\n     * ids no duplicates.\n     *\n     * @param {PurposeRestriction} [purposeRestriction] - optionally passed to\n     * get only Vendor IDs restricted under the given Purpose Restriction\n     * @return {number[]} - Unique ID set of vendors\n     */\n    getVendors(purposeRestriction) {\n        let vendorIds = [];\n        if (purposeRestriction) {\n            const hash = purposeRestriction.hash;\n            if (this.has(hash)) {\n                vendorIds = this.map.get(hash).get();\n            }\n        }\n        else {\n            const vendorSet = new Set();\n            this.map.forEach((bst) => {\n                bst.get().forEach((vendorId) => {\n                    vendorSet.add(vendorId);\n                });\n            });\n            vendorIds = Array.from(vendorSet);\n        }\n        return vendorIds;\n    }\n    getRestrictionType(vendorId, purposeId) {\n        let rType;\n        this.getRestrictions(vendorId).forEach((purposeRestriction) => {\n            if (purposeRestriction.purposeId === purposeId) {\n                if (rType === undefined || rType > purposeRestriction.restrictionType) {\n                    rType = purposeRestriction.restrictionType;\n                }\n            }\n        });\n        return rType;\n    }\n    /**\n     * vendorHasRestriction - determines whether a given Vendor ID is under a\n     * given Purpose Restriction\n     *\n     * @param {number} vendorId\n     * @param {PurposeRestriction} purposeRestriction\n     * @return {boolean} - true if the give Vendor ID is under the given Purpose\n     * Restriction\n     */\n    vendorHasRestriction(vendorId, purposeRestriction) {\n        let has = false;\n        const restrictions = this.getRestrictions(vendorId);\n        for (let i = 0; i < restrictions.length && !has; i++) {\n            has = purposeRestriction.isSameAs(restrictions[i]);\n        }\n        return has;\n    }\n    /**\n     * getMaxVendorId - gets the Maximum Vendor ID regardless of Purpose\n     * Restriction\n     *\n     * @return {number} - maximum Vendor ID\n     */\n    getMaxVendorId() {\n        let retr = 0;\n        this.map.forEach((bst) => {\n            retr = Math.max(bst.max(), retr);\n        });\n        return retr;\n    }\n    getRestrictions(vendorId) {\n        const retr = [];\n        this.map.forEach((bst, hash) => {\n            if (vendorId) {\n                if (bst.contains(vendorId)) {\n                    retr.push(PurposeRestriction.unHash(hash));\n                }\n            }\n            else {\n                retr.push(PurposeRestriction.unHash(hash));\n            }\n        });\n        return retr;\n    }\n    getPurposes() {\n        const purposeIds = new Set();\n        this.map.forEach((bst, hash) => {\n            purposeIds.add(PurposeRestriction.unHash(hash).purposeId);\n        });\n        return Array.from(purposeIds);\n    }\n    /**\n     * remove - removes Vendor ID from a Purpose Restriction\n     *\n     * @param {number} vendorId\n     * @param {PurposeRestriction} purposeRestriction\n     * @return {void}\n     */\n    remove(vendorId, purposeRestriction) {\n        const hash = purposeRestriction.hash;\n        const bst = this.map.get(hash);\n        if (bst) {\n            bst.remove(vendorId);\n            // if it's empty let's delete the key so it doesn't show up empty\n            if (bst.isEmpty()) {\n                this.map.delete(hash);\n                this.bitLength = 0;\n            }\n        }\n    }\n    /**\n     * Essential for being able to determine whether we can actually set a\n     * purpose restriction since they have to have a flexible legal basis\n     *\n     * @param {GVL} value - the GVL instance\n     */\n    set gvl(value) {\n        if (!this.gvl_) {\n            this.gvl_ = value;\n            /**\n             * if we have restrictions set before the gvl is set then we'll have to\n             * go through and remove some if they're not valid\n             */\n            this.map.forEach((bst, hash) => {\n                const purposeRestriction = PurposeRestriction.unHash(hash);\n                const vendors = bst.get();\n                vendors.forEach((vendorId) => {\n                    if (!this.isOkToHave(purposeRestriction.restrictionType, purposeRestriction.purposeId, vendorId)) {\n                        bst.remove(vendorId);\n                    }\n                });\n            });\n        }\n    }\n    /**\n     * gvl returns local copy of the GVL these restrictions apply to\n     *\n     * @return {GVL}\n     */\n    get gvl() {\n        return this.gvl_;\n    }\n    /**\n     * isEmpty - whether or not this vector has any restrictions in it\n     *\n     * @return {boolean}\n     */\n    isEmpty() {\n        return this.map.size === 0;\n    }\n    ;\n    /**\n     * numRestrictions - returns the number of Purpose Restrictions.\n     *\n     * @return {number}\n     */\n    get numRestrictions() {\n        return this.map.size;\n    }\n}\n","import { Segment } from './Segment.js';\nexport class SegmentIDs {\n    /**\n     * 0 = default - reserved for core string (does not need to be present in the core string)\n     * 1 = OOB vendors disclosed\n     * 2 = OOB vendors allowed\n     * 3 = PublisherTC\n     */\n    static ID_TO_KEY = [\n        Segment.CORE,\n        Segment.VENDORS_DISCLOSED,\n        Segment.VENDORS_ALLOWED,\n        Segment.PUBLISHER_TC,\n    ];\n    static KEY_TO_ID = {\n        [Segment.CORE]: 0,\n        [Segment.VENDORS_DISCLOSED]: 1,\n        [Segment.VENDORS_ALLOWED]: 2,\n        [Segment.PUBLISHER_TC]: 3,\n    };\n}\n","import { Cloneable } from '../Cloneable.js';\nimport { TCModelError } from '../errors/index.js';\n/**\n * Vector class is like a Set except it keeps track of a max id\n */\nexport class Vector extends Cloneable {\n    /**\n     * if this originatd from an encoded string we'll need a place to store the\n     * bit length; it can be set and got from here\n     */\n    bitLength = 0;\n    maxId_ = 0;\n    set_ = new Set();\n    *[Symbol.iterator]() {\n        for (let i = 1; i <= this.maxId; i++) {\n            yield [i, this.has(i)];\n        }\n    }\n    /**\n     * values()\n     *\n     * @return {IterableIterator<number>} - returns an iterator of the positive\n     * values in the set\n     */\n    values() {\n        return this.set_.values();\n    }\n    /**\n     * maxId\n     *\n     * @return {number} - the highest id in this Vector\n     */\n    get maxId() {\n        return this.maxId_;\n    }\n    /**\n     * get\n     *\n     * @param {number} id - key for value to check\n     * @return {boolean} - value of that key, if never set it will be false\n     */\n    has(id) {\n        /**\n         * if it exists in the set we'll return true\n         */\n        return this.set_.has(id);\n    }\n    /**\n     * unset\n     *\n     * @param {SingleIDOrCollection} id - id or ids to unset\n     * @return {void}\n     */\n    unset(id) {\n        if (Array.isArray(id)) {\n            id.forEach((id) => this.unset(id));\n        }\n        else if (typeof id === 'object') {\n            this.unset(Object.keys(id).map((strId) => Number(strId)));\n        }\n        else {\n            this.set_.delete(Number(id));\n            /**\n             * if bitLength was set before, it must now be unset\n             */\n            this.bitLength = 0;\n            if (id === this.maxId) {\n                /**\n                 * aww bummer we lost our maxId... now we've got to search through\n                 * all the ids and find the biggest one.\n                 */\n                this.maxId_ = 0;\n                this.set_.forEach((id) => {\n                    this.maxId_ = Math.max(this.maxId, id);\n                });\n            }\n        }\n    }\n    isIntMap(item) {\n        let result = (typeof item === 'object');\n        result = (result && Object.keys(item).every((key) => {\n            let itemResult = Number.isInteger(parseInt(key, 10));\n            itemResult = (itemResult && this.isValidNumber(item[key].id));\n            itemResult = (itemResult && item[key].name !== undefined);\n            return itemResult;\n        }));\n        return result;\n    }\n    isValidNumber(item) {\n        return (parseInt(item, 10) > 0);\n    }\n    isSet(item) {\n        let result = false;\n        if (item instanceof Set) {\n            result = Array.from(item).every(this.isValidNumber);\n        }\n        return result;\n    }\n    /**\n     * set - sets an item assumed to be a truthy value by its presence\n     *\n     * @param {SingleIDOrCollection} item - May be a single id (positive integer)\n     * or collection of ids in a set, GVL Int Map, or Array.\n     *\n     * @return {void}\n     */\n    set(item) {\n        /**\n         * strategy here is to just recursively call set if it's a collection until\n         * we get to the final integer ID\n         */\n        if (Array.isArray(item)) {\n            item.forEach((item) => this.set(item));\n        }\n        else if (this.isSet(item)) {\n            this.set(Array.from(item));\n        }\n        else if (this.isIntMap(item)) {\n            this.set(Object.keys(item).map((strId) => Number(strId)));\n        }\n        else if (this.isValidNumber(item)) {\n            this.set_.add(item);\n            this.maxId_ = Math.max(this.maxId, item);\n            /**\n             * if bitLength was set before, it must now be unset\n             */\n            this.bitLength = 0;\n        }\n        else {\n            /**\n             * Super not cool to try and set something that's not valid\n             */\n            throw new TCModelError('set()', item, 'must be positive integer array, positive integer, Set<number>, or IntMap');\n        }\n    }\n    empty() {\n        this.set_ = new Set();\n    }\n    /**\n     * forEach - to traverse from id=1 to id=maxId in a sequential non-sparse manner\n     *\n     *\n     * @param {forEachCallback} callback - callback to execute\n     * @return {void}\n     *\n     * @callback forEachCallback\n     * @param {boolean} value - whether or not this id exists in the vector\n     * @param {number} id - the id number of the current iteration\n     */\n    forEach(callback) {\n        for (let i = 1; i <= this.maxId; i++) {\n            callback(this.has(i), i);\n        }\n    }\n    get size() {\n        return this.set_.size;\n    }\n    setAll(intMap) {\n        this.set(intMap);\n    }\n}\n","import { Fields } from '../model/index.js';\nexport class BitLength {\n    static [Fields.cmpId] = 12;\n    static [Fields.cmpVersion] = 12;\n    static [Fields.consentLanguage] = 12;\n    static [Fields.consentScreen] = 6;\n    static [Fields.created] = 36;\n    static [Fields.isServiceSpecific] = 1;\n    static [Fields.lastUpdated] = 36;\n    static [Fields.policyVersion] = 6;\n    static [Fields.publisherCountryCode] = 12;\n    static [Fields.publisherLegitimateInterests] = 24;\n    static [Fields.publisherConsents] = 24;\n    static [Fields.purposeConsents] = 24;\n    static [Fields.purposeLegitimateInterests] = 24;\n    static [Fields.purposeOneTreatment] = 1;\n    static [Fields.specialFeatureOptins] = 12;\n    static [Fields.useNonStandardStacks] = 1;\n    static [Fields.vendorListVersion] = 12;\n    static [Fields.version] = 6;\n    static anyBoolean = 1;\n    static encodingType = 1;\n    static maxId = 16;\n    static numCustomPurposes = 6;\n    static numEntries = 12;\n    static numRestrictions = 12;\n    static purposeId = 6;\n    static restrictionType = 2;\n    static segmentType = 3;\n    static singleOrRange = 1;\n    static vendorId = 16;\n}\n","export class BooleanEncoder {\n    static encode(value) {\n        return String(Number(value));\n    }\n    static decode(value) {\n        // less operations than !!parseInt(value, 2)\n        return value === '1';\n    }\n}\n","import { EncodingError, DecodingError, } from '../../errors/index.js';\nexport class IntEncoder {\n    static encode(value, numBits) {\n        let bitString;\n        if (typeof value === 'string') {\n            value = parseInt(value, 10);\n        }\n        bitString = value.toString(2);\n        if (bitString.length > numBits || value < 0) {\n            throw new EncodingError(`${value} too large to encode into ${numBits}`);\n        }\n        // Pad the string if not filling all bits\n        if (bitString.length < numBits) {\n            // pad left\n            bitString = '0'.repeat(numBits - bitString.length) + bitString;\n        }\n        return bitString;\n    }\n    static decode(value, numBits) {\n        if (numBits !== value.length) {\n            throw new DecodingError('invalid bit length');\n        }\n        return parseInt(value, 2);\n    }\n}\n","import { IntEncoder, } from './IntEncoder.js';\nimport { DecodingError, } from '../../errors/index.js';\nexport class DateEncoder {\n    static encode(value, numBits) {\n        return IntEncoder.encode(Math.round(value.getTime() / 100), numBits);\n    }\n    static decode(value, numBits) {\n        if (numBits !== value.length) {\n            throw new DecodingError('invalid bit length');\n        }\n        const date = new Date();\n        date.setTime(IntEncoder.decode(value, numBits) * 100);\n        return date;\n    }\n}\n","import { BooleanEncoder } from './BooleanEncoder.js';\nimport { DecodingError } from '../../errors/index.js';\nimport { Vector } from '../../model/index.js';\nexport class FixedVectorEncoder {\n    static encode(value, numBits) {\n        let bitString = '';\n        for (let i = 1; i <= numBits; i++) {\n            bitString += BooleanEncoder.encode(value.has(i));\n        }\n        return bitString;\n    }\n    static decode(value, numBits) {\n        if (value.length !== numBits) {\n            throw new DecodingError('bitfield encoding length mismatch');\n        }\n        const vector = new Vector();\n        for (let i = 1; i <= numBits; i++) {\n            if (BooleanEncoder.decode(value[i - 1])) {\n                vector.set(i);\n            }\n        }\n        vector.bitLength = value.length;\n        return vector;\n    }\n}\n","import { IntEncoder, } from './IntEncoder.js';\nimport { DecodingError, EncodingError, } from '../../errors/index.js';\nexport class LangEncoder {\n    static encode(value, numBits) {\n        value = value.toUpperCase();\n        const ASCII_START = 65;\n        const firstLetter = value.charCodeAt(0) - ASCII_START;\n        const secondLetter = value.charCodeAt(1) - ASCII_START;\n        // check some things to throw some good errors\n        if (firstLetter < 0 || firstLetter > 25 || secondLetter < 0 || secondLetter > 25) {\n            throw new EncodingError(`invalid language code: ${value}`);\n        }\n        if (numBits % 2 === 1) {\n            throw new EncodingError(`numBits must be even, ${numBits} is not valid`);\n        }\n        numBits = numBits / 2;\n        const firstLetterBString = IntEncoder.encode(firstLetter, numBits);\n        const secondLetterBString = IntEncoder.encode(secondLetter, numBits);\n        return firstLetterBString + secondLetterBString;\n    }\n    static decode(value, numBits) {\n        let retr;\n        // is it an even number of bits? we have to divide it\n        if (numBits === value.length && !(value.length % 2)) {\n            const ASCII_START = 65;\n            const mid = value.length / 2;\n            const firstLetter = IntEncoder.decode(value.slice(0, mid), mid) + ASCII_START;\n            const secondLetter = IntEncoder.decode(value.slice(mid), mid) + ASCII_START;\n            retr = String.fromCharCode(firstLetter) + String.fromCharCode(secondLetter);\n        }\n        else {\n            throw new DecodingError('invalid bit length for language');\n        }\n        return retr;\n    }\n}\n","import { BitLength } from '../BitLength.js';\nimport { BooleanEncoder } from './BooleanEncoder.js';\nimport { DecodingError } from '../../errors/index.js';\nimport { IntEncoder } from './IntEncoder.js';\nimport { PurposeRestrictionVector, PurposeRestriction } from '../../model/index.js';\nexport class PurposeRestrictionVectorEncoder {\n    static encode(prVector) {\n        // start with the number of restrictions\n        let bitString = IntEncoder.encode(prVector.numRestrictions, BitLength.numRestrictions);\n        // if the vector is empty we'll just return a string with just the numRestricitons being 0\n        if (!prVector.isEmpty()) {\n            // create each restriction group\n            prVector.getRestrictions().forEach((purpRestriction) => {\n                // every restriction group has the purposeId and the restrictionType;\n                bitString += IntEncoder.encode(purpRestriction.purposeId, BitLength.purposeId);\n                bitString += IntEncoder.encode(purpRestriction.restrictionType, BitLength.restrictionType);\n                // now get all the vendors under that restriction\n                const vendors = prVector.getVendors(purpRestriction);\n                const len = vendors.length;\n                /**\n                 * numEntries comes first so we will have to keep a counter and the do\n                 * the encoding at the end\n                 */\n                let numEntries = 0;\n                let startId = 0;\n                let rangeField = '';\n                for (let i = 0; i < len; i++) {\n                    const vendorId = vendors[i];\n                    if (startId === 0) {\n                        numEntries++;\n                        startId = vendorId;\n                    }\n                    // we know that `len` is greater than zero because we entered the loop\n                    const lastVendorId = vendors[len - 1];\n                    const gvlVendorIds = prVector.gvl.vendorIds;\n                    const nextGvlVendor = (vendorId) => {\n                        while (++vendorId <= lastVendorId && !gvlVendorIds.has(vendorId)) {\n                        }\n                        return vendorId;\n                    };\n                    /**\n                     * either end of the loop or there are GVL vendor IDs before the next one\n                     */\n                    if (i === len - 1 || vendors[i + 1] > nextGvlVendor(vendorId)) {\n                        /**\n                         * it's a range entry if we've got something other than the start\n                         * ID\n                         */\n                        const isRange = !(vendorId === startId);\n                        // 0 means single 1 means range\n                        rangeField += BooleanEncoder.encode(isRange);\n                        rangeField += IntEncoder.encode(startId, BitLength.vendorId);\n                        if (isRange) {\n                            rangeField += IntEncoder.encode(vendorId, BitLength.vendorId);\n                        }\n                        // reset the startId so we grab the next id in the list\n                        startId = 0;\n                    }\n                }\n                /**\n                 * now that  the range encoding is built, encode the number of ranges\n                 * and then append the range field to the bitString.\n                 */\n                bitString += IntEncoder.encode(numEntries, BitLength.numEntries);\n                bitString += rangeField;\n            });\n        }\n        return bitString;\n    }\n    static decode(encodedString) {\n        let index = 0;\n        const vector = new PurposeRestrictionVector();\n        const numRestrictions = IntEncoder.decode(encodedString.substr(index, BitLength.numRestrictions), BitLength.numRestrictions);\n        index += BitLength.numRestrictions;\n        for (let i = 0; i < numRestrictions; i++) {\n            // First is purpose ID\n            const purposeId = IntEncoder.decode(encodedString.substr(index, BitLength.purposeId), BitLength.purposeId);\n            index += BitLength.purposeId;\n            // Second Restriction Type\n            const restrictionType = IntEncoder.decode(encodedString.substr(index, BitLength.restrictionType), BitLength.restrictionType);\n            index += BitLength.restrictionType;\n            const purposeRestriction = new PurposeRestriction(purposeId, restrictionType);\n            // Num Entries (number of vendors)\n            const numEntries = IntEncoder.decode(encodedString.substr(index, BitLength.numEntries), BitLength.numEntries);\n            index += BitLength.numEntries;\n            for (let j = 0; j < numEntries; j++) {\n                const isARange = BooleanEncoder.decode(encodedString.substr(index, BitLength.anyBoolean));\n                index += BitLength.anyBoolean;\n                const startOrOnlyVendorId = IntEncoder.decode(encodedString.substr(index, BitLength.vendorId), BitLength.vendorId);\n                index += BitLength.vendorId;\n                if (isARange) {\n                    const endVendorId = IntEncoder.decode(encodedString.substr(index, BitLength.vendorId), BitLength.vendorId);\n                    index += BitLength.vendorId;\n                    if (endVendorId < startOrOnlyVendorId) {\n                        throw new DecodingError(`Invalid RangeEntry: endVendorId ${endVendorId} is less than ${startOrOnlyVendorId}`);\n                    }\n                    for (let k = startOrOnlyVendorId; k <= endVendorId; k++) {\n                        vector.add(k, purposeRestriction);\n                    }\n                }\n                else {\n                    vector.add(startOrOnlyVendorId, purposeRestriction);\n                }\n            }\n        }\n        vector.bitLength = index;\n        return vector;\n    }\n}\n","import { Vector } from '../../model/index.js';\nimport { BitLength } from '../index.js';\nimport { IntEncoder } from './IntEncoder.js';\nimport { BooleanEncoder } from './BooleanEncoder.js';\nimport { FixedVectorEncoder } from './FixedVectorEncoder.js';\nimport { VectorEncodingType } from './VectorEncodingType.js';\nimport { DecodingError } from '../../errors/index.js';\nexport class VendorVectorEncoder {\n    static encode(value) {\n        // collectors for range encoding\n        const ranges = [];\n        let range = [];\n        // since both encodings need the maxId, start with that\n        let retrString = IntEncoder.encode(value.maxId, BitLength.maxId);\n        // bit field will be just the vendors as we walk through the vector\n        let bitField = '';\n        let rangeIsSmaller;\n        // some math\n        const headerLength = BitLength.maxId + BitLength.encodingType;\n        const bitFieldLength = headerLength + value.maxId;\n        const minRangeLength = (BitLength.vendorId * 2 + BitLength.singleOrRange + BitLength.numEntries);\n        // gets larger as we walk through the vector\n        let rangeLength = headerLength + BitLength.numEntries;\n        // walk through every value in the vector\n        value.forEach((curValue, i) => {\n            // build our bitfield no matter what\n            bitField += BooleanEncoder.encode(curValue);\n            /**\n             * A range is a minimum of 45 bits, if the number of vendors in this\n             * vector is less than 45 then we know that a bitfield encoding will be\n             * shorter than any range encoding.\n             *\n             * The second check checks while we walk through the vector and abandons\n             * building the ranges once it becomes larger\n             */\n            rangeIsSmaller = (value.maxId > minRangeLength && rangeLength < bitFieldLength);\n            /**\n             * if the curValue is true and our rangeLength is less than the bitField\n             * length, we'll continue to push these ranges into the array.  Once the\n             * ranges become a larger encoding there is no reason to continue\n             * building the structure because we will be choosing the bitfield\n             * encoding\n             */\n            if (rangeIsSmaller && curValue) {\n                /**\n                 * Look ahead to see if this is the last value in our range\n                 */\n                const nextValue = value.has(i + 1);\n                // if there isn't a next value, then we'll wrap up this range\n                if (!nextValue) {\n                    /**\n                     * this is the last value of the range, so we'll push it on to the\n                     * end into position 1\n                     */\n                    range.push(i);\n                    // add to the range length the additional vendorId\n                    rangeLength += BitLength.vendorId;\n                    // store the array in our bigger array\n                    ranges.push(range);\n                    // clear the array for the next range\n                    range = [];\n                }\n                else if (range.length === 0) {\n                    // this is the first  value for this range\n                    range.push(i);\n                    // update our count with new range overhead\n                    rangeLength += BitLength.singleOrRange;\n                    rangeLength += BitLength.vendorId;\n                }\n            }\n        });\n        if (rangeIsSmaller) {\n            retrString += String(VectorEncodingType.RANGE);\n            retrString += this.buildRangeEncoding(ranges);\n        }\n        else {\n            retrString += String(VectorEncodingType.FIELD);\n            retrString += bitField;\n        }\n        return retrString;\n    }\n    static decode(value, version) {\n        let vector;\n        let index = 0;\n        const maxId = IntEncoder.decode(value.substr(index, BitLength.maxId), BitLength.maxId);\n        index += BitLength.maxId;\n        const encodingType = IntEncoder.decode(value.charAt(index), BitLength.encodingType);\n        index += BitLength.encodingType;\n        /**\n         * Range is handled in batches so we'll need a different decoding scheme\n         */\n        if (encodingType === VectorEncodingType.RANGE) {\n            vector = new Vector();\n            if (version === 1) {\n                if (value.substr(index, 1) === '1') {\n                    throw new DecodingError('Unable to decode default consent=1');\n                }\n                // jump over the default encoding\n                index++;\n            }\n            const numEntries = IntEncoder.decode(value.substr(index, BitLength.numEntries), BitLength.numEntries);\n            index += BitLength.numEntries;\n            // loop through each group of entries\n            for (let i = 0; i < numEntries; i++) {\n                // Ranges can represent a single id or a range of ids.\n                const isIdRange = BooleanEncoder.decode(value.charAt(index));\n                index += BitLength.singleOrRange;\n                /**\n                 * regardless of whether or not it's a single entry or range, the next\n                 * set of bits is a vendor ID\n                 */\n                const firstId = IntEncoder.decode(value.substr(index, BitLength.vendorId), BitLength.vendorId);\n                index += BitLength.vendorId;\n                // if it's a range, the next set of bits is the second id\n                if (isIdRange) {\n                    const secondId = IntEncoder.decode(value.substr(index, BitLength.vendorId), BitLength.vendorId);\n                    index += BitLength.vendorId;\n                    // we'll need to set or unset all the vendor ids between the first and second\n                    for (let j = firstId; j <= secondId; j++) {\n                        vector.set(j);\n                    }\n                }\n                else {\n                    vector.set(firstId);\n                }\n            }\n        }\n        else {\n            const bitField = value.substr(index, maxId);\n            index += maxId;\n            vector = FixedVectorEncoder.decode(bitField, maxId);\n        }\n        vector.bitLength = index;\n        return vector;\n    }\n    static buildRangeEncoding(ranges) {\n        // describe the number of entries to follow\n        const numEntries = ranges.length;\n        let rangeString = IntEncoder.encode(numEntries, BitLength.numEntries);\n        // each range\n        ranges.forEach((range) => {\n            // is this range a single?\n            const single = (range.length === 1);\n            // first is the indicator of whether this is a single id or range (two)\n            // 0 is single and range is 1\n            rangeString += BooleanEncoder.encode(!single);\n            // second is the first (or only) vendorId\n            rangeString += IntEncoder.encode(range[0], BitLength.vendorId);\n            if (!single) {\n                // add the second id if it exists\n                rangeString += IntEncoder.encode(range[1], BitLength.vendorId);\n            }\n        });\n        return rangeString;\n    }\n}\n","import { Fields } from '../../model/index.js';\nimport { BooleanEncoder } from './BooleanEncoder.js';\nimport { DateEncoder } from './DateEncoder.js';\nimport { FixedVectorEncoder } from './FixedVectorEncoder.js';\nimport { IntEncoder } from './IntEncoder.js';\nimport { LangEncoder } from './LangEncoder.js';\nimport { PurposeRestrictionVectorEncoder } from './PurposeRestrictionVectorEncoder.js';\nimport { VendorVectorEncoder } from './VendorVectorEncoder.js';\nexport function FieldEncoderMap() {\n    return {\n        [Fields.version]: IntEncoder,\n        [Fields.created]: DateEncoder,\n        [Fields.lastUpdated]: DateEncoder,\n        [Fields.cmpId]: IntEncoder,\n        [Fields.cmpVersion]: IntEncoder,\n        [Fields.consentScreen]: IntEncoder,\n        [Fields.consentLanguage]: LangEncoder,\n        [Fields.vendorListVersion]: IntEncoder,\n        [Fields.policyVersion]: IntEncoder,\n        [Fields.isServiceSpecific]: BooleanEncoder,\n        [Fields.useNonStandardStacks]: BooleanEncoder,\n        [Fields.specialFeatureOptins]: FixedVectorEncoder,\n        [Fields.purposeConsents]: FixedVectorEncoder,\n        [Fields.purposeLegitimateInterests]: FixedVectorEncoder,\n        [Fields.purposeOneTreatment]: BooleanEncoder,\n        [Fields.publisherCountryCode]: LangEncoder,\n        [Fields.vendorConsents]: VendorVectorEncoder,\n        [Fields.vendorLegitimateInterests]: VendorVectorEncoder,\n        [Fields.publisherRestrictions]: PurposeRestrictionVectorEncoder,\n        segmentType: IntEncoder,\n        [Fields.vendorsDisclosed]: VendorVectorEncoder,\n        [Fields.vendorsAllowed]: VendorVectorEncoder,\n        [Fields.publisherConsents]: FixedVectorEncoder,\n        [Fields.publisherLegitimateInterests]: FixedVectorEncoder,\n        [Fields.numCustomPurposes]: IntEncoder,\n        [Fields.publisherCustomConsents]: FixedVectorEncoder,\n        [Fields.publisherCustomLegitimateInterests]: FixedVectorEncoder,\n    };\n}\n","import { Segment, Fields } from '../../model/index.js';\nexport class FieldSequence {\n    '1' = {\n        [Segment.CORE]: [\n            Fields.version,\n            Fields.created,\n            Fields.lastUpdated,\n            Fields.cmpId,\n            Fields.cmpVersion,\n            Fields.consentScreen,\n            Fields.consentLanguage,\n            Fields.vendorListVersion,\n            Fields.purposeConsents,\n            Fields.vendorConsents,\n        ],\n    };\n    '2' = {\n        [Segment.CORE]: [\n            Fields.version,\n            Fields.created,\n            Fields.lastUpdated,\n            Fields.cmpId,\n            Fields.cmpVersion,\n            Fields.consentScreen,\n            Fields.consentLanguage,\n            Fields.vendorListVersion,\n            Fields.policyVersion,\n            Fields.isServiceSpecific,\n            Fields.useNonStandardStacks,\n            Fields.specialFeatureOptins,\n            Fields.purposeConsents,\n            Fields.purposeLegitimateInterests,\n            Fields.purposeOneTreatment,\n            Fields.publisherCountryCode,\n            Fields.vendorConsents,\n            Fields.vendorLegitimateInterests,\n            Fields.publisherRestrictions,\n        ],\n        [Segment.PUBLISHER_TC]: [\n            Fields.publisherConsents,\n            Fields.publisherLegitimateInterests,\n            Fields.numCustomPurposes,\n            Fields.publisherCustomConsents,\n            Fields.publisherCustomLegitimateInterests,\n        ],\n        [Segment.VENDORS_ALLOWED]: [\n            Fields.vendorsAllowed,\n        ],\n        [Segment.VENDORS_DISCLOSED]: [\n            Fields.vendorsDisclosed,\n        ],\n    };\n}\n","import { Segment, Fields, } from '../../model/index.js';\nexport class SegmentSequence {\n    '1' = [\n        Segment.CORE,\n    ];\n    '2' = [\n        Segment.CORE,\n    ];\n    constructor(tcModel, options) {\n        if (tcModel.version === 2) {\n            if (tcModel.isServiceSpecific) {\n                /**\n                 * If it's service specific only, then the publisher TC String can be\n                 * stored in the cookie and would be transmitted if it's not for\n                 * storage.  So it's included regardless of whether or not it's for\n                 * saving or the cmp api to surface.\n                 */\n                this['2'].push(Segment.PUBLISHER_TC);\n            }\n            else {\n                const isForVendors = !!(options && options.isForVendors);\n                /**\n                 * including vendors disclosed only if it is for saving (to the global\n                 * scope and not for vendors through the CMP API) or supportOOB is\n                 * turned on (either or both).  The compliment of this being not for\n                 * saving (surfaced to CMP) and no support of OOB.\n                 */\n                if (!isForVendors || tcModel[Fields.supportOOB] === true) {\n                    this['2'].push(Segment.VENDORS_DISCLOSED);\n                }\n                if (isForVendors) {\n                    /**\n                     * If a publisher does support OOB and they have narrowed the allowed\n                     * vendors to utilize it, then we should include the vendors allowed\n                     * segment.  If it is empty then there are no restrictions, if that\n                     * is intended to mean no support for OOB, then the flag should be\n                     * set for that instead.\n                     *\n                     */\n                    if (tcModel[Fields.supportOOB] && tcModel[Fields.vendorsAllowed].size > 0) {\n                        this['2'].push(Segment.VENDORS_ALLOWED);\n                    }\n                    /**\n                     * Always include the publisher TC segment as long as this TC string\n                     * is not intended to be saved in the global scope.\n                     */\n                    this['2'].push(Segment.PUBLISHER_TC);\n                }\n            }\n        }\n    }\n}\n","import { Base64Url } from './Base64Url.js';\nimport { BitLength } from './BitLength.js';\nimport { FieldEncoderMap, IntEncoder, VendorVectorEncoder } from './field/index.js';\nimport { FieldSequence } from './sequence/index.js';\nimport { EncodingError, DecodingError } from '../errors/index.js';\nimport { Fields } from '../model/Fields.js';\nimport { Segment, SegmentIDs } from '../model/index.js';\nexport class SegmentEncoder {\n    static fieldSequence = new FieldSequence();\n    static encode(tcModel, segment) {\n        let sequence;\n        try {\n            sequence = this.fieldSequence[String(tcModel.version)][segment];\n        }\n        catch (err) {\n            throw new EncodingError(`Unable to encode version: ${tcModel.version}, segment: ${segment}`);\n        }\n        let bitField = '';\n        /**\n         * If this is anything other than the core segment we have a \"segment id\"\n         * to append to the front of the string\n         */\n        if (segment !== Segment.CORE) {\n            bitField = IntEncoder.encode(SegmentIDs.KEY_TO_ID[segment], BitLength.segmentType);\n        }\n        const fieldEncoderMap = FieldEncoderMap();\n        sequence.forEach((key) => {\n            const value = tcModel[key];\n            const encoder = fieldEncoderMap[key];\n            let numBits = BitLength[key];\n            if (numBits === undefined) {\n                if (this.isPublisherCustom(key)) {\n                    /**\n                     * publisherCustom[Consents | LegitimateInterests] are an edge case\n                     * because they are of variable length. The length is defined in a\n                     * separate field named numCustomPurposes.\n                     */\n                    numBits = Number(tcModel[Fields.numCustomPurposes]);\n                }\n            }\n            try {\n                bitField += encoder.encode(value, numBits);\n            }\n            catch (err) {\n                throw new EncodingError(`Error encoding ${segment}->${key}: ${err.message}`);\n            }\n        });\n        // base64url encode the string and return\n        return Base64Url.encode(bitField);\n    }\n    static decode(encodedString, tcModel, segment) {\n        const bitField = Base64Url.decode(encodedString);\n        let bStringIdx = 0;\n        if (segment === Segment.CORE) {\n            tcModel.version = IntEncoder.decode(bitField.substr(bStringIdx, BitLength[Fields.version]), BitLength[Fields.version]);\n        }\n        if (segment !== Segment.CORE) {\n            bStringIdx += BitLength.segmentType;\n        }\n        const sequence = this.fieldSequence[String(tcModel.version)][segment];\n        const fieldEncoderMap = FieldEncoderMap();\n        sequence.forEach((key) => {\n            const encoder = fieldEncoderMap[key];\n            let numBits = BitLength[key];\n            if (numBits === undefined) {\n                if (this.isPublisherCustom(key)) {\n                    /**\n                     * publisherCustom[Consents | LegitimateInterests] are an edge case\n                     * because they are of variable length. The length is defined in a\n                     * separate field named numCustomPurposes.\n                     */\n                    numBits = Number(tcModel[Fields.numCustomPurposes]);\n                }\n            }\n            if (numBits !== 0) {\n                /**\n                 * numBits could be 0 if this is a publisher custom purposes field and\n                 * no custom purposes are defined. If that is the case, we don't need\n                 * to gather no bits and we don't need to increment our bStringIdx\n                 * pointer because those would all be 0 increments and would mess up\n                 * the next logical if statement.\n                 */\n                const bits = bitField.substr(bStringIdx, numBits);\n                if (encoder === VendorVectorEncoder) {\n                    tcModel[key] = encoder.decode(bits, tcModel.version);\n                }\n                else {\n                    tcModel[key] = encoder.decode(bits, numBits);\n                }\n                if (Number.isInteger(numBits)) {\n                    bStringIdx += numBits;\n                }\n                else if (Number.isInteger(tcModel[key].bitLength)) {\n                    bStringIdx += tcModel[key].bitLength;\n                }\n                else {\n                    throw new DecodingError(key);\n                }\n            }\n        });\n        return tcModel;\n    }\n    static isPublisherCustom(key) {\n        return key.indexOf('publisherCustom') === 0;\n    }\n}\n","import { EncodingError } from '../errors/index.js';\nimport { RestrictionType } from '../model/index.js';\nexport class SemanticPreEncoder {\n    static processor = [\n        (tcModel) => tcModel,\n        (tcModel, gvl) => {\n            /**\n             * in case this wasn't set previously.  This should filter out invalid\n             * purpose restrictions.\n             */\n            tcModel.publisherRestrictions.gvl = gvl;\n            /**\n             * Purpose 1 is never allowed to be true for legitimate interest\n             */\n            tcModel.purposeLegitimateInterests.unset(1);\n            /**\n             * If a Vendor does not declare a purpose for consent or legitimate\n             * interest they should not have a positive signal for it. This code\n             * removes positive signals created mistakingly.\n             */\n            const vectorToIntMap = new Map();\n            vectorToIntMap.set('legIntPurposes', tcModel.vendorLegitimateInterests);\n            vectorToIntMap.set('purposes', tcModel.vendorConsents);\n            vectorToIntMap.forEach((vector, gvlVendorKey) => {\n                vector.forEach((value, vendorId) => {\n                    if (value) {\n                        const vendor = gvl.vendors[vendorId];\n                        if (!vendor || vendor.deletedDate) {\n                            /**\n                             * If the vendor doesn't exist, then they should not receive a\n                             * positive signal\n                             */\n                            vector.unset(vendorId);\n                        }\n                        else if (vendor[gvlVendorKey].length === 0) {\n                            if (gvlVendorKey === 'legIntPurposes' && vendor['purposes'].length === 0 && vendor['legIntPurposes'].length === 0 && vendor['specialPurposes'].length > 0) {\n                                /**\n                                 * Per June 2021 Policy change, Vendors declaring only Special Purposes must\n                                 * have their legitimate interest Vendor bit set if they have been disclosed.\n                                 * This empty block ensures their LI bit remains set\n                                 */\n                            }\n                            else {\n                                /**\n                                 * If the vendor does exist, but they haven't declared any\n                                 * purposes for this legal basis, then we need to see if they can\n                                 * possibly have the legal basis from their flexible purposes.\n                                 */\n                                if (tcModel.isServiceSpecific) {\n                                    if (vendor.flexiblePurposes.length === 0) {\n                                        /**\n                                         * No flexible basis for any purposes, so we can safely remove\n                                         * this vendor from the legal basis.\n                                         */\n                                        vector.unset(vendorId);\n                                    }\n                                    else {\n                                        /**\n                                         * They have some flexible purposes, we should check for a\n                                         * publisher restriction value that would enable this vendor to\n                                         * have the override-preferred basis.\n                                         */\n                                        const restrictions = tcModel.publisherRestrictions.getRestrictions(vendorId);\n                                        let isValid = false;\n                                        for (let i = 0, len = restrictions.length; i < len && !isValid; i++) {\n                                            /**\n                                             * If this condition is true the loop will break.  If we are\n                                             * dealing with the consent purposes ('purposes') and the\n                                             * publisher restriction overrides to consent then it is\n                                             * valid for the vendor to have a positive signal for\n                                             * consent.  Likewise for legitimate interest purposes\n                                             * ('legIntPurposes') and requiring legitimate interest.\n                                             */\n                                            isValid = ((restrictions[i].restrictionType === RestrictionType.REQUIRE_CONSENT &&\n                                                gvlVendorKey === 'purposes') ||\n                                                (restrictions[i].restrictionType === RestrictionType.REQUIRE_LI &&\n                                                    gvlVendorKey === 'legIntPurposes'));\n                                        }\n                                        if (!isValid) {\n                                            /**\n                                             * if we came through the previous  loop without finding a\n                                             * valid reasing: no overriding restrictions (changes in\n                                             * legal basis) then it's not valid for this vendor to have\n                                             * this legal basis.\n                                             */\n                                            vector.unset(vendorId);\n                                        }\n                                    }\n                                }\n                                else {\n                                    /**\n                                     * This is a globally-scoped string so flexible purposes will not\n                                     * be able to change this value because purposeRestrictions only\n                                     * apply to service-specific strings.\n                                     */\n                                    vector.unset(vendorId);\n                                }\n                            }\n                        }\n                    }\n                });\n            });\n            tcModel.vendorsDisclosed.set(gvl.vendors);\n            return tcModel;\n        },\n    ];\n    static process(tcModel, options) {\n        const gvl = tcModel.gvl;\n        if (!gvl) {\n            throw new EncodingError('Unable to encode TCModel without a GVL');\n        }\n        if (!gvl.isReady) {\n            throw new EncodingError('Unable to encode TCModel tcModel.gvl.readyPromise is not resolved');\n        }\n        tcModel = tcModel.clone();\n        tcModel.consentLanguage = gvl.language.toUpperCase();\n        if (options?.version > 0 && options?.version <= this.processor.length) {\n            tcModel.version = options.version;\n        }\n        else {\n            /**\n             * this is equal to the latest or most current version\n             */\n            tcModel.version = this.processor.length;\n        }\n        const processorFunctionIndex = tcModel.version - 1;\n        if (!this.processor[processorFunctionIndex]) {\n            throw new EncodingError(`Invalid version: ${tcModel.version}`);\n        }\n        return this.processor[processorFunctionIndex](tcModel, gvl);\n    }\n}\n","/**\n * class for General GVL Errors\n *\n * @extends {Error}\n */\nclass GVLError extends Error {\n    /**\n     * constructor - constructs a GVLError\n     *\n     * @param {string} msg - Error message to display\n     * @return {undefined}\n     */\n    constructor(msg) {\n        super(msg);\n        this.name = 'GVLError';\n    }\n}\nexport { GVLError };\n","export class Json {\n    static absCall(url, body, sendCookies, timeout) {\n        return new Promise((resolve, reject) => {\n            const req = new XMLHttpRequest();\n            const onLoad = () => {\n                // is the response done\n                if (req.readyState == XMLHttpRequest.DONE) {\n                    /**\n                     * For our purposes if it's not a 200 range response, then it's a\n                     * failure.\n                     */\n                    if (req.status >= 200 && req.status < 300) {\n                        let response = req.response;\n                        if (typeof response === 'string') {\n                            try {\n                                response = JSON.parse(response);\n                            }\n                            catch (e) { }\n                        }\n                        resolve(response);\n                    }\n                    else {\n                        reject(new Error(`HTTP Status: ${req.status} response type: ${req.responseType}`));\n                    }\n                }\n            };\n            const onError = () => {\n                reject(new Error('error'));\n            };\n            const onAbort = () => {\n                reject(new Error('aborted'));\n            };\n            const onTimeout = () => {\n                reject(new Error('Timeout ' + timeout + 'ms ' + url));\n            };\n            req.withCredentials = sendCookies;\n            req.addEventListener('load', onLoad);\n            req.addEventListener('error', onError);\n            req.addEventListener('abort', onAbort);\n            if (body === null) {\n                req.open('GET', url, true);\n            }\n            else {\n                req.open('POST', url, true);\n            }\n            req.responseType = 'json';\n            // IE has a problem if this is before the open\n            req.timeout = timeout;\n            req.ontimeout = onTimeout;\n            req.send(body);\n        });\n    }\n    /**\n     * @static\n     * @param {string} url - full path to POST to\n     * @param {object} body - JSON object to post\n     * @param {boolean} sendCookies - Whether or not to send the XMLHttpRequest with credentials or not\n     * @param {number} [timeout] - optional timeout in milliseconds\n     * @return {Promise<object>} - if the server responds the response will be returned here\n     */\n    static post(url, body, sendCookies = false, timeout = 0) {\n        return this.absCall(url, JSON.stringify(body), sendCookies, timeout);\n    }\n    /**\n     * @static\n     * @param {string} url - full path to the json\n     * @param {boolean} sendCookies - Whether or not to send the XMLHttpRequest with credentials or not\n     * @param {number} [timeout] - optional timeout in milliseconds\n     * @return {Promise<object>} - resolves with parsed JSON\n     */\n    static fetch(url, sendCookies = false, timeout = 0) {\n        return this.absCall(url, null, sendCookies, timeout);\n    }\n}\n","import { Cloneable } from './Cloneable.js';\nimport { GVLError } from './errors/index.js';\nimport { Json } from './Json.js';\nimport { ConsentLanguages } from './model/index.js';\n/**\n * class with utilities for managing the global vendor list.  Will use JSON to\n * fetch the vendor list from specified url and will serialize it into this\n * object and provide accessors.  Provides ways to group vendors on the list by\n * purpose and feature.\n */\nexport class GVL extends Cloneable {\n    static LANGUAGE_CACHE = new Map();\n    static CACHE = new Map();\n    static LATEST_CACHE_KEY = 0;\n    static DEFAULT_LANGUAGE = 'EN';\n    /**\n     * Set of available consent languages published by the IAB\n     */\n    static consentLanguages = new ConsentLanguages();\n    static baseUrl_;\n    /**\n     * baseUrl - Entities using the vendor-list.json are required by the iab to\n     * host their own copy of it to reduce the load on the iab's infrastructure\n     * so a 'base' url must be set to be put together with the versioning scheme\n     * of the filenames.\n     *\n     * @static\n     * @param {string} url - the base url to load the vendor-list.json from.  This is\n     * broken out from the filename because it follows a different scheme for\n     * latest file vs versioned files.\n     *\n     * @throws {GVLError} - If the url is http[s]://vendorlist.consensu.org/...\n     * this will throw an error.  IAB Europe requires that that CMPs and Vendors\n     * cache their own copies of the GVL to minimize load on their\n     * infrastructure.  For more information regarding caching of the\n     * vendor-list.json, please see [the TCF documentation on 'Caching the Global\n     * Vendor List'\n     * ](https://github.com/InteractiveAdvertisingBureau/GDPR-Transparency-and-Consent-Framework/blob/master/TCFv2/IAB%20Tech%20Lab%20-%20Consent%20string%20and%20vendor%20list%20formats%20v2.md#caching-the-global-vendor-list)\n     */\n    static set baseUrl(url) {\n        const notValid = /^https?:\\/\\/vendorlist\\.consensu\\.org\\//;\n        if (notValid.test(url)) {\n            throw new GVLError('Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache');\n        }\n        // if a trailing slash was forgotten\n        if (url.length > 0 && url[url.length - 1] !== '/') {\n            url += '/';\n        }\n        this.baseUrl_ = url;\n    }\n    ;\n    /**\n     * baseUrl - Entities using the vendor-list.json are required by the iab to\n     * host their own copy of it to reduce the load on the iab's infrastructure\n     * so a 'base' url must be set to be put together with the versioning scheme\n     * of the filenames.\n     *\n     * @static\n     * @return {string} - returns the previously set baseUrl, the default is\n     * `undefined`\n     */\n    static get baseUrl() {\n        return this.baseUrl_;\n    }\n    /**\n     * @static\n     * @param {string} - the latest is assumed to be vendor-list.json because\n     * that is what the iab uses, but it could be different... if you want\n     */\n    static latestFilename = 'vendor-list.json';\n    /**\n     * @static\n     * @param {string} - the versioned name is assumed to be\n     * vendor-list-v[VERSION].json where [VERSION] will be replaced with the\n     * specified version.  But it could be different... if you want just make\n     * sure to include the [VERSION] macro if you have a numbering scheme, it's a\n     * simple string substitution.\n     *\n     * eg.\n     * ```javascript\n     * GVL.baseUrl = \"http://www.mydomain.com/iabcmp/\";\n     * GVL.versionedFilename = \"vendorlist?getVersion=[VERSION]\";\n     * ```\n     */\n    static versionedFilename = 'archives/vendor-list-v[VERSION].json';\n    /**\n     * @param {string} - Translations of the names and descriptions for Purposes,\n     * Special Purposes, Features, and Special Features to non-English languages\n     * are contained in a file where attributes containing English content\n     * (except vendor declaration information) are translated.  The iab publishes\n     * one following the scheme below where the LANG is the iso639-1 language\n     * code.  For a list of available translations\n     * [please go here](https://register.consensu.org/Translation).\n     *\n     * eg.\n     * ```javascript\n     * GVL.baseUrl = \"http://www.mydomain.com/iabcmp/\";\n     * GVL.languageFilename = \"purposes?getPurposes=[LANG]\";\n     * ```\n     */\n    static languageFilename = 'purposes-[LANG].json';\n    /**\n     * @param {Promise} resolved when this GVL object is populated with the data\n     * or rejected if there is an error.\n     */\n    readyPromise;\n    /**\n     * @param {number} gvlSpecificationVersion - schema version for the GVL that is used\n     */\n    gvlSpecificationVersion;\n    /**\n     * @param {number} incremented with each published file change\n     */\n    vendorListVersion;\n    /**\n     * @param {number} tcfPolicyVersion - The TCF MO will increment this value\n     * whenever a GVL change (such as adding a new Purpose or Feature or a change\n     * in Purpose wording) legally invalidates existing TC Strings and requires\n     * CMPs to re-establish transparency and consent from users. If the policy\n     * version number in the latest GVL is different from the value in your TC\n     * String, then you need to re-establish transparency and consent for that\n     * user. A version 1 format TC String is considered to have a version value\n     * of 1.\n     */\n    tcfPolicyVersion;\n    /**\n     * @param {string | Date} lastUpdated - the date in which the vendor list\n     * json file  was last updated.\n     */\n    lastUpdated;\n    /**\n     * @param {IntMap<Purpose>} a collection of [[Purpose]]s\n     */\n    purposes;\n    /**\n     * @param {IntMap<Purpose>} a collection of [[Purpose]]s\n     */\n    specialPurposes;\n    /**\n     * @param {IntMap<Feature>} a collection of [[Feature]]s\n     */\n    features;\n    /**\n     * @param {IntMap<Feature>} a collection of [[Feature]]s\n     */\n    specialFeatures;\n    /**\n     * @param {boolean} internal reference of when the GVL is ready to be used\n     */\n    isReady_ = false;\n    /**\n     * @param {IntMap<Vendor>} a collection of [[Vendor]]s\n     */\n    vendors_;\n    vendorIds;\n    /**\n     * @param {IntMap<Vendor>} a collection of [[Vendor]]. Used as a backup if a whitelist is sets\n     */\n    fullVendorList;\n    /**\n     * @param {ByPurposeVendorMap} vendors by purpose\n     */\n    byPurposeVendorMap;\n    /**\n     * @param {IDSetMap} vendors by special purpose\n     */\n    bySpecialPurposeVendorMap;\n    /**\n     * @param {IDSetMap} vendors by feature\n     */\n    byFeatureVendorMap;\n    /**\n     * @param {IDSetMap} vendors by special feature\n     */\n    bySpecialFeatureVendorMap;\n    /**\n     * @param {IntMap<Stack>} a collection of [[Stack]]s\n     */\n    stacks;\n    lang_;\n    isLatest = false;\n    /**\n     * @param {VersionOrVendorList} [versionOrVendorList] - can be either a\n     * [[VendorList]] object or a version number represented as a string or\n     * number to download.  If nothing is passed the latest version of the GVL\n     * will be loaded\n     */\n    constructor(versionOrVendorList) {\n        super();\n        /**\n         * should have been configured before and instance was created and will\n         * persist through the app\n         */\n        let url = GVL.baseUrl;\n        this.lang_ = GVL.DEFAULT_LANGUAGE;\n        if (this.isVendorList(versionOrVendorList)) {\n            this.populate(versionOrVendorList);\n            this.readyPromise = Promise.resolve();\n        }\n        else {\n            if (!url) {\n                throw new GVLError('must specify GVL.baseUrl before loading GVL json');\n            }\n            if (versionOrVendorList > 0) {\n                const version = versionOrVendorList;\n                if (GVL.CACHE.has(version)) {\n                    this.populate(GVL.CACHE.get(version));\n                    this.readyPromise = Promise.resolve();\n                }\n                else {\n                    // load version specified\n                    url += GVL.versionedFilename.replace('[VERSION]', String(version));\n                    this.readyPromise = this.fetchJson(url);\n                }\n            }\n            else {\n                /**\n                 * whatever it is (or isn't)... it doesn't matter we'll just get the\n                 * latest. In this case we may have cached the latest version at key 0.\n                 * If we have then we'll just use that instead of making a request.\n                 * Otherwise we'll have to load it (and then we'll cache it for next\n                 * time)\n                 */\n                if (GVL.CACHE.has(GVL.LATEST_CACHE_KEY)) {\n                    this.populate(GVL.CACHE.get(GVL.LATEST_CACHE_KEY));\n                    this.readyPromise = Promise.resolve();\n                }\n                else {\n                    this.isLatest = true;\n                    this.readyPromise = this.fetchJson(url + GVL.latestFilename);\n                }\n            }\n        }\n    }\n    /**\n     * emptyLanguageCache\n     *\n     * @param {string} [lang] - Optional ISO 639-1 langauge code to remove from\n     * the cache.  Should be one of the languages in GVL.consentLanguages set.\n     * If not then the whole cache will be deleted.\n     * @return {boolean} - true if anything was deleted from the cache\n     */\n    static emptyLanguageCache(lang) {\n        let retr = false;\n        if (lang === undefined && GVL.LANGUAGE_CACHE.size > 0) {\n            GVL.LANGUAGE_CACHE = new Map();\n            retr = true;\n        }\n        else if (typeof lang === 'string' && this.consentLanguages.has(lang.toUpperCase())) {\n            GVL.LANGUAGE_CACHE.delete(lang.toUpperCase());\n            retr = true;\n        }\n        return retr;\n    }\n    /**\n     * emptyCache\n     *\n     * @param {number} [vendorListVersion] - version of the vendor list to delete\n     * from the cache.  If none is specified then the whole cache is deleted.\n     * @return {boolean} - true if anything was deleted from the cache\n     */\n    static emptyCache(vendorListVersion) {\n        let retr = false;\n        if (Number.isInteger(vendorListVersion) && vendorListVersion >= 0) {\n            GVL.CACHE.delete(vendorListVersion);\n            retr = true;\n        }\n        else if (vendorListVersion === undefined) {\n            GVL.CACHE = new Map();\n            retr = true;\n        }\n        return retr;\n    }\n    cacheLanguage() {\n        if (!GVL.LANGUAGE_CACHE.has(this.lang_)) {\n            GVL.LANGUAGE_CACHE.set(this.lang_, {\n                purposes: this.purposes,\n                specialPurposes: this.specialPurposes,\n                features: this.features,\n                specialFeatures: this.specialFeatures,\n                stacks: this.stacks,\n            });\n        }\n    }\n    async fetchJson(url) {\n        try {\n            this.populate(await Json.fetch(url));\n        }\n        catch (err) {\n            throw new GVLError(err.message);\n        }\n    }\n    /**\n     * getJson - Method for getting the JSON that was downloaded to created this\n     * `GVL` object\n     *\n     * @return {VendorList} - The basic JSON structure without the extra\n     * functionality and methods of this class.\n     */\n    getJson() {\n        return JSON.parse(JSON.stringify({\n            gvlSpecificationVersion: this.gvlSpecificationVersion,\n            vendorListVersion: this.vendorListVersion,\n            tcfPolicyVersion: this.tcfPolicyVersion,\n            lastUpdated: this.lastUpdated,\n            purposes: this.purposes,\n            specialPurposes: this.specialPurposes,\n            features: this.features,\n            specialFeatures: this.specialFeatures,\n            stacks: this.stacks,\n            vendors: this.fullVendorList,\n        }));\n    }\n    /**\n     * changeLanguage - retrieves the purpose language translation and sets the\n     * internal language variable\n     *\n     * @param {string} lang - ISO 639-1 langauge code to change language to\n     * @return {Promise<void | GVLError>} - returns the `readyPromise` and\n     * resolves when this GVL is populated with the data from the language file.\n     */\n    async changeLanguage(lang) {\n        const langUpper = lang.toUpperCase();\n        if (GVL.consentLanguages.has(langUpper)) {\n            if (langUpper !== this.lang_) {\n                this.lang_ = langUpper;\n                if (GVL.LANGUAGE_CACHE.has(langUpper)) {\n                    const cached = GVL.LANGUAGE_CACHE.get(langUpper);\n                    for (const prop in cached) {\n                        if (cached.hasOwnProperty(prop)) {\n                            this[prop] = cached[prop];\n                        }\n                    }\n                }\n                else {\n                    // load Language specified\n                    const url = GVL.baseUrl + GVL.languageFilename.replace('[LANG]', lang);\n                    try {\n                        await this.fetchJson(url);\n                        this.cacheLanguage();\n                    }\n                    catch (err) {\n                        throw new GVLError('unable to load language: ' + err.message);\n                    }\n                }\n            }\n        }\n        else {\n            throw new GVLError(`unsupported language ${lang}`);\n        }\n    }\n    get language() {\n        return this.lang_;\n    }\n    isVendorList(gvlObject) {\n        return gvlObject !== undefined && gvlObject.vendors !== undefined;\n    }\n    populate(gvlObject) {\n        /**\n         * these are populated regardless of whether it's a Declarations file or\n         * a VendorList\n         */\n        this.purposes = gvlObject.purposes;\n        this.specialPurposes = gvlObject.specialPurposes;\n        this.features = gvlObject.features;\n        this.specialFeatures = gvlObject.specialFeatures;\n        this.stacks = gvlObject.stacks;\n        if (this.isVendorList(gvlObject)) {\n            this.gvlSpecificationVersion = gvlObject.gvlSpecificationVersion;\n            this.tcfPolicyVersion = gvlObject.tcfPolicyVersion;\n            this.vendorListVersion = gvlObject.vendorListVersion;\n            this.lastUpdated = gvlObject.lastUpdated;\n            if (typeof this.lastUpdated === 'string') {\n                this.lastUpdated = new Date(this.lastUpdated);\n            }\n            this.vendors_ = gvlObject.vendors;\n            this.fullVendorList = gvlObject.vendors;\n            this.mapVendors();\n            this.isReady_ = true;\n            if (this.isLatest) {\n                /**\n                 * If the \"LATEST\" was requested then this flag will be set to true.\n                 * In that case we'll cache the GVL at the special key\n                 */\n                GVL.CACHE.set(GVL.LATEST_CACHE_KEY, this.getJson());\n            }\n            /**\n             * Whether or not it's the \"LATEST\" we'll cache the gvl at the version it\n             * is declared to be (if it's not already). to avoid downloading it again\n             * in the future.\n             */\n            if (!GVL.CACHE.has(this.vendorListVersion)) {\n                GVL.CACHE.set(this.vendorListVersion, this.getJson());\n            }\n        }\n        this.cacheLanguage();\n    }\n    mapVendors(vendorIds) {\n        // create new instances of the maps\n        this.byPurposeVendorMap = {};\n        this.bySpecialPurposeVendorMap = {};\n        this.byFeatureVendorMap = {};\n        this.bySpecialFeatureVendorMap = {};\n        // initializes data structure for purpose map\n        Object.keys(this.purposes).forEach((purposeId) => {\n            this.byPurposeVendorMap[purposeId] = {\n                legInt: new Set(),\n                consent: new Set(),\n                flexible: new Set(),\n            };\n        });\n        // initializes data structure for special purpose map\n        Object.keys(this.specialPurposes).forEach((purposeId) => {\n            this.bySpecialPurposeVendorMap[purposeId] = new Set();\n        });\n        // initializes data structure for feature map\n        Object.keys(this.features).forEach((featureId) => {\n            this.byFeatureVendorMap[featureId] = new Set();\n        });\n        // initializes data structure for feature map\n        Object.keys(this.specialFeatures).forEach((featureId) => {\n            this.bySpecialFeatureVendorMap[featureId] = new Set();\n        });\n        if (!Array.isArray(vendorIds)) {\n            vendorIds = Object.keys(this.fullVendorList).map((vId) => +vId);\n        }\n        this.vendorIds = new Set(vendorIds);\n        // assigns vendor ids to their respective maps\n        this.vendors_ = vendorIds.reduce((vendors, vendorId) => {\n            const vendor = this.vendors_[String(vendorId)];\n            if (vendor && vendor.deletedDate === undefined) {\n                vendor.purposes.forEach((purposeId) => {\n                    const purpGroup = this.byPurposeVendorMap[String(purposeId)];\n                    purpGroup.consent.add(vendorId);\n                });\n                vendor.specialPurposes.forEach((purposeId) => {\n                    this.bySpecialPurposeVendorMap[String(purposeId)].add(vendorId);\n                });\n                vendor.legIntPurposes.forEach((purposeId) => {\n                    this.byPurposeVendorMap[String(purposeId)].legInt.add(vendorId);\n                });\n                // could not be there\n                if (vendor.flexiblePurposes) {\n                    vendor.flexiblePurposes.forEach((purposeId) => {\n                        this.byPurposeVendorMap[String(purposeId)].flexible.add(vendorId);\n                    });\n                }\n                vendor.features.forEach((featureId) => {\n                    this.byFeatureVendorMap[String(featureId)].add(vendorId);\n                });\n                vendor.specialFeatures.forEach((featureId) => {\n                    this.bySpecialFeatureVendorMap[String(featureId)].add(vendorId);\n                });\n                vendors[vendorId] = vendor;\n            }\n            return vendors;\n        }, {});\n    }\n    getFilteredVendors(purposeOrFeature, id, subType, special) {\n        const properPurposeOrFeature = purposeOrFeature.charAt(0).toUpperCase() + purposeOrFeature.slice(1);\n        let vendorSet;\n        const retr = {};\n        if (purposeOrFeature === 'purpose' && subType) {\n            vendorSet = this['by' + properPurposeOrFeature + 'VendorMap'][String(id)][subType];\n        }\n        else {\n            vendorSet = this['by' + (special ? 'Special' : '') + properPurposeOrFeature + 'VendorMap'][String(id)];\n        }\n        vendorSet.forEach((vendorId) => {\n            retr[String(vendorId)] = this.vendors[String(vendorId)];\n        });\n        return retr;\n    }\n    /**\n     * getVendorsWithConsentPurpose\n     *\n     * @param {number} purposeId\n     * @return {IntMap<Vendor>} - list of vendors that have declared the consent purpose id\n     */\n    getVendorsWithConsentPurpose(purposeId) {\n        return this.getFilteredVendors('purpose', purposeId, 'consent');\n    }\n    /**\n     * getVendorsWithLegIntPurpose\n     *\n     * @param {number} purposeId\n     * @return {IntMap<Vendor>} - list of vendors that have declared the legInt (Legitimate Interest) purpose id\n     */\n    getVendorsWithLegIntPurpose(purposeId) {\n        return this.getFilteredVendors('purpose', purposeId, 'legInt');\n    }\n    /**\n     * getVendorsWithFlexiblePurpose\n     *\n     * @param {number} purposeId\n     * @return {IntMap<Vendor>} - list of vendors that have declared the flexible purpose id\n     */\n    getVendorsWithFlexiblePurpose(purposeId) {\n        return this.getFilteredVendors('purpose', purposeId, 'flexible');\n    }\n    /**\n     * getVendorsWithSpecialPurpose\n     *\n     * @param {number} specialPurposeId\n     * @return {IntMap<Vendor>} - list of vendors that have declared the special purpose id\n     */\n    getVendorsWithSpecialPurpose(specialPurposeId) {\n        return this.getFilteredVendors('purpose', specialPurposeId, undefined, true);\n    }\n    /**\n     * getVendorsWithFeature\n     *\n     * @param {number} featureId\n     * @return {IntMap<Vendor>} - list of vendors that have declared the feature id\n     */\n    getVendorsWithFeature(featureId) {\n        return this.getFilteredVendors('feature', featureId);\n    }\n    /**\n     * getVendorsWithSpecialFeature\n     *\n     * @param {number} specialFeatureId\n     * @return {IntMap<Vendor>} - list of vendors that have declared the special feature id\n     */\n    getVendorsWithSpecialFeature(specialFeatureId) {\n        return this.getFilteredVendors('feature', specialFeatureId, undefined, true);\n    }\n    /**\n     * vendors\n     *\n     * @return {IntMap<Vendor>} - the list of vendors as it would on the JSON file\n     * except if `narrowVendorsTo` was called, it would be that narrowed list\n     */\n    get vendors() {\n        return this.vendors_;\n    }\n    /**\n     * narrowVendorsTo - narrows vendors represented in this GVL to the list of ids passed in\n     *\n     * @param {number[]} vendorIds - list of ids to narrow this GVL to\n     * @return {void}\n     */\n    narrowVendorsTo(vendorIds) {\n        this.mapVendors(vendorIds);\n    }\n    /**\n     * isReady - Whether or not this instance is ready to be used.  This will be\n     * immediately and synchronously true if a vendorlist object is passed into\n     * the constructor or once the JSON vendorllist is retrieved.\n     *\n     * @return {boolean} whether or not the instance is ready to be interacted\n     * with and all the data is populated\n     */\n    get isReady() {\n        return this.isReady_;\n    }\n    /**\n     * clone - overrides base `clone()` method since GVL is a special class that\n     * represents a JSON structure with some additional functionality.\n     *\n     * @return {GVL}\n     */\n    clone() {\n        const result = new GVL(this.getJson());\n        /*\n         * If the current language of the GVL is not the default language, we set the language of\n         * the clone to the current language since a new GVL is always created with the default\n         * language. */\n        if (this.lang_ !== GVL.DEFAULT_LANGUAGE) {\n            /*\n             * Since the GVL language was changed, this means that an asynchronous changeLanguage\n             * call was made prior to cloning the GVL.  The new language specified has been cached\n             * by the GVL and this changeLanguage call made as a part of cloning the GVL will be\n             * synchronous. The code will look for the language definitions in the cache instead\n             * of creating a http request. */\n            result.changeLanguage(this.lang_);\n        }\n        return result;\n    }\n    static isInstanceOf(questionableInstance) {\n        const isSo = typeof questionableInstance === 'object';\n        return (isSo && typeof questionableInstance.narrowVendorsTo === 'function');\n    }\n}\n","import { Cloneable } from './Cloneable.js';\nimport { TCModelError } from './errors/index.js';\nimport { GVL } from './GVL.js';\nimport { PurposeRestrictionVector, Vector } from './model/index.js';\nexport class TCModel extends Cloneable {\n    /**\n     * Set of available consent languages published by the IAB\n     */\n    static consentLanguages = GVL.consentLanguages;\n    isServiceSpecific_ = false;\n    supportOOB_ = true;\n    useNonStandardStacks_ = false;\n    purposeOneTreatment_ = false;\n    publisherCountryCode_ = 'AA';\n    version_ = 2;\n    consentScreen_ = 0;\n    policyVersion_ = 2;\n    consentLanguage_ = 'EN';\n    cmpId_ = 0;\n    cmpVersion_ = 0;\n    vendorListVersion_ = 0;\n    numCustomPurposes_ = 0;\n    // Member Variable for GVL\n    gvl_;\n    created;\n    lastUpdated;\n    /**\n     * The TCF designates certain Features as special, that is, a CMP must afford\n     * the user a means to opt in to their use. These Special Features are\n     * published and numbered in the GVL separately from normal Features.\n     * Provides for up to 12 special features.\n     */\n    specialFeatureOptins = new Vector();\n    /**\n     * Renamed from `PurposesAllowed` in TCF v1.1\n     * The users consent value for each Purpose established on the legal basis\n     * of consent. Purposes are published in the Global Vendor List (see. [[GVL]]).\n     */\n    purposeConsents = new Vector();\n    /**\n     * The users permission for each Purpose established on the legal basis of\n     * legitimate interest. If the user has exercised right-to-object for a\n     * purpose.\n     */\n    purposeLegitimateInterests = new Vector();\n    /**\n     * The users consent value for each Purpose established on the legal basis\n     * of consent, for the publisher.  Purposes are published in the Global\n     * Vendor List.\n     */\n    publisherConsents = new Vector();\n    /**\n     * The users permission for each Purpose established on the legal basis of\n     * legitimate interest.  If the user has exercised right-to-object for a\n     * purpose.\n     */\n    publisherLegitimateInterests = new Vector();\n    /**\n     * The users consent value for each Purpose established on the legal basis\n     * of consent, for the publisher.  Purposes are published in the Global\n     * Vendor List.\n     */\n    publisherCustomConsents = new Vector();\n    /**\n     * The users permission for each Purpose established on the legal basis of\n     * legitimate interest.  If the user has exercised right-to-object for a\n     * purpose that is established in the publisher's custom purposes.\n     */\n    publisherCustomLegitimateInterests = new Vector();\n    /**\n     * set by a publisher if they wish to collect consent and LI Transparency for\n     * purposes outside of the TCF\n     */\n    customPurposes;\n    /**\n     * Each [[Vendor]] is keyed by id. Their consent value is true if it is in\n     * the Vector\n     */\n    vendorConsents = new Vector();\n    /**\n     * Each [[Vendor]] is keyed by id. Whether their Legitimate Interests\n     * Disclosures have been established is stored as boolean.\n     * see: [[Vector]]\n     */\n    vendorLegitimateInterests = new Vector();\n    /**\n     * The value included for disclosed vendors signals which vendors have been\n     * disclosed to the user in the interface surfaced by the CMP. This section\n     * content is required when writing a TC string to the global (consensu)\n     * scope. When a CMP has read from and is updating a TC string from the\n     * global consensu.org storage, the CMP MUST retain the existing disclosure\n     * information and only add information for vendors that it has disclosed\n     * that had not been disclosed by other CMPs in prior interactions with this\n     * device/user agent.\n     */\n    vendorsDisclosed = new Vector();\n    /**\n     * Signals which vendors the publisher permits to use OOB legal bases.\n     */\n    vendorsAllowed = new Vector();\n    publisherRestrictions = new PurposeRestrictionVector();\n    /**\n     * Constructs the TCModel. Passing a [[GVL]] is optional when constructing\n     * as this TCModel may be constructed from decoding an existing encoded\n     * TCString.\n     *\n     * @param {GVL} [gvl]\n     */\n    constructor(gvl) {\n        super();\n        if (gvl) {\n            this.gvl = gvl;\n        }\n        this.updated();\n    }\n    /**\n     * sets the [[GVL]] with side effects of also setting the `vendorListVersion`, `policyVersion`, and `consentLanguage`\n     * @param {GVL} gvl\n     */\n    set gvl(gvl) {\n        /**\n         * set the reference, but make sure it's our GVL wrapper class.\n         */\n        if (!(GVL.isInstanceOf(gvl))) {\n            gvl = new GVL(gvl);\n        }\n        this.gvl_ = gvl;\n        this.publisherRestrictions.gvl = gvl;\n    }\n    /**\n     * @return {GVL} the gvl instance set on this TCModel instance\n     */\n    get gvl() {\n        return this.gvl_;\n    }\n    /**\n     * @param {number} integer - A unique ID will be assigned to each Consent\n     * Manager Provider (CMP) from the iab.\n     *\n     * @throws {TCModelError} if the value is not an integer greater than 1 as those are not valid.\n     */\n    set cmpId(integer) {\n        integer = Number(integer);\n        if (Number.isInteger(integer) && integer > 1) {\n            this.cmpId_ = integer;\n        }\n        else {\n            throw new TCModelError('cmpId', integer);\n        }\n    }\n    get cmpId() {\n        return this.cmpId_;\n    }\n    /**\n     * Each change to an operating CMP should receive a\n     * new version number, for logging proof of consent. CmpVersion defined by\n     * each CMP.\n     *\n     * @param {number} integer\n     *\n     * @throws {TCModelError} if the value is not an integer greater than 1 as those are not valid.\n     */\n    set cmpVersion(integer) {\n        integer = Number(integer);\n        if (Number.isInteger(integer) && integer > -1) {\n            this.cmpVersion_ = integer;\n        }\n        else {\n            throw new TCModelError('cmpVersion', integer);\n        }\n    }\n    get cmpVersion() {\n        return this.cmpVersion_;\n    }\n    /**\n     * The screen number is CMP and CmpVersion\n     * specific, and is for logging proof of consent.(For example, a CMP could\n     * keep records so that a publisher can request information about the context\n     * in which consent was gathered.)\n     *\n     * @param {number} integer\n     *\n     * @throws {TCModelError} if the value is not an integer greater than 0 as those are not valid.\n     */\n    set consentScreen(integer) {\n        integer = Number(integer);\n        if (Number.isInteger(integer) && integer > -1) {\n            this.consentScreen_ = integer;\n        }\n        else {\n            throw new TCModelError('consentScreen', integer);\n        }\n    }\n    get consentScreen() {\n        return this.consentScreen_;\n    }\n    /**\n     * @param {string} lang - [two-letter ISO 639-1 language\n     * code](http://www.loc.gov/standards/iso639-2/php/code_list.php) in which\n     * the CMP UI was presented\n     *\n     * @throws {TCModelError} if the value is not a length-2 string of alpha characters\n     */\n    set consentLanguage(lang) {\n        this.consentLanguage_ = lang;\n    }\n    get consentLanguage() {\n        return this.consentLanguage_;\n    }\n    /**\n     * @param {string} countryCode - [two-letter ISO 3166-1 alpha-2 country\n     * code](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) of the publisher,\n     * determined by the CMP-settings of the publisher.\n     *\n     * @throws {TCModelError} if the value is not a length-2 string of alpha characters\n     */\n    set publisherCountryCode(countryCode) {\n        if (/^([A-z]){2}$/.test(countryCode)) {\n            this.publisherCountryCode_ = countryCode.toUpperCase();\n        }\n        else {\n            throw new TCModelError('publisherCountryCode', countryCode);\n        }\n    }\n    get publisherCountryCode() {\n        return this.publisherCountryCode_;\n    }\n    /**\n     * Version of the GVL used to create this TCModel. Global\n     * Vendor List versions will be released periodically.\n     *\n     * @param {number} integer\n     *\n     * @throws {TCModelError} if the value is not an integer greater than 0 as those are not valid.\n     */\n    set vendorListVersion(integer) {\n        /**\n         * first coerce to a number via leading '+' then take the integer value by\n         * bitshifting to the right.  This works on all types in JavaScript and if\n         * it's not valid then value will be 0.\n         */\n        integer = Number(integer) >> 0;\n        if (integer < 0) {\n            throw new TCModelError('vendorListVersion', integer);\n        }\n        else {\n            this.vendorListVersion_ = integer;\n        }\n    }\n    get vendorListVersion() {\n        if (this.gvl) {\n            return this.gvl.vendorListVersion;\n        }\n        else {\n            return this.vendorListVersion_;\n        }\n    }\n    /**\n     * From the corresponding field in the GVL that was\n     * used for obtaining consent. A new policy version invalidates existing\n     * strings and requires CMPs to re-establish transparency and consent from\n     * users.\n     *\n     * If a TCF policy version number is different from the one from the latest\n     * GVL, the CMP must re-establish transparency and consent.\n     *\n     * @param {number} num - You do not need to set this.  This comes\n     * directly from the [[GVL]].\n     *\n     */\n    set policyVersion(num) {\n        this.policyVersion_ = parseInt(num, 10);\n        if (this.policyVersion_ < 0) {\n            throw new TCModelError('policyVersion', num);\n        }\n    }\n    get policyVersion() {\n        if (this.gvl) {\n            return this.gvl.tcfPolicyVersion;\n        }\n        else {\n            return this.policyVersion_;\n        }\n    }\n    set version(num) {\n        this.version_ = parseInt(num, 10);\n    }\n    get version() {\n        return this.version_;\n    }\n    /**\n     * Whether the signals encoded in this TC String were from site-specific\n     * storage `true` versus global consensu.org shared storage `false`. A\n     * string intended to be stored in global/shared scope but the CMP is unable\n     * to store due to a user agent not accepting third-party cookies would be\n     * considered site-specific `true`.\n     *\n     * @param {boolean} bool - value to set. Some changes to other fields in this\n     * model will automatically change this value like adding publisher\n     * restrictions.\n     */\n    set isServiceSpecific(bool) {\n        this.isServiceSpecific_ = bool;\n    }\n    get isServiceSpecific() {\n        return this.isServiceSpecific_;\n    }\n    /**\n     * Non-standard stacks means that a CMP is using publisher-customized stack\n     * descriptions. Stacks (in terms of purposes in a stack) are pre-set by the\n     * IAB. As are titles. Descriptions are pre-set, but publishers can customize\n     * them. If they do, they need to set this bit to indicate that they've\n     * customized descriptions.\n     *\n     * @param {boolean} bool - value to set\n     */\n    set useNonStandardStacks(bool) {\n        this.useNonStandardStacks_ = bool;\n    }\n    get useNonStandardStacks() {\n        return this.useNonStandardStacks_;\n    }\n    /**\n     * Whether or not this publisher supports OOB signaling.  On Global TC String\n     * OOB Vendors Disclosed will be included if the publish wishes to no allow\n     * these vendors they should set this to false.\n     * @param {boolean} bool - value to set\n     */\n    set supportOOB(bool) {\n        this.supportOOB_ = bool;\n    }\n    get supportOOB() {\n        return this.supportOOB_;\n    }\n    /**\n     * `false` There is no special Purpose 1 status.\n     * Purpose 1 was disclosed normally (consent) as expected by Policy.  `true`\n     * Purpose 1 not disclosed at all. CMPs use PublisherCC to indicate the\n     * publishers country of establishment to help Vendors determine whether the\n     * vendor requires Purpose 1 consent. In global scope TC strings, this field\n     * must always have a value of `false`. When a CMP encounters a global scope\n     * string with `purposeOneTreatment=true` then that string should be\n     * considered invalid and the CMP must re-establish transparency and consent.\n     *\n     * @param {boolean} bool\n     */\n    set purposeOneTreatment(bool) {\n        this.purposeOneTreatment_ = bool;\n    }\n    get purposeOneTreatment() {\n        return this.purposeOneTreatment_;\n    }\n    /**\n     * setAllVendorConsents - sets all vendors on the GVL Consent (true)\n     *\n     * @return {void}\n     */\n    setAllVendorConsents() {\n        this.vendorConsents.set(this.gvl.vendors);\n    }\n    /**\n     * unsetAllVendorConsents - unsets all vendors on the GVL Consent (false)\n     *\n     * @return {void}\n     */\n    unsetAllVendorConsents() {\n        this.vendorConsents.empty();\n    }\n    /**\n     * setAllVendorsDisclosed - sets all vendors on the GVL Vendors Disclosed (true)\n     *\n     * @return {void}\n     */\n    setAllVendorsDisclosed() {\n        this.vendorsDisclosed.set(this.gvl.vendors);\n    }\n    /**\n     * unsetAllVendorsDisclosed - unsets all vendors on the GVL Consent (false)\n     *\n     * @return {void}\n     */\n    unsetAllVendorsDisclosed() {\n        this.vendorsDisclosed.empty();\n    }\n    /**\n     * setAllVendorsAllowed - sets all vendors on the GVL Consent (true)\n     *\n     * @return {void}\n     */\n    setAllVendorsAllowed() {\n        this.vendorsAllowed.set(this.gvl.vendors);\n    }\n    /**\n     * unsetAllVendorsAllowed - unsets all vendors on the GVL Consent (false)\n     *\n     * @return {void}\n     */\n    unsetAllVendorsAllowed() {\n        this.vendorsAllowed.empty();\n    }\n    /**\n     * setAllVendorLegitimateInterests - sets all vendors on the GVL LegitimateInterests (true)\n     *\n     * @return {void}\n     */\n    setAllVendorLegitimateInterests() {\n        this.vendorLegitimateInterests.set(this.gvl.vendors);\n    }\n    /**\n     * unsetAllVendorLegitimateInterests - unsets all vendors on the GVL LegitimateInterests (false)\n     *\n     * @return {void}\n     */\n    unsetAllVendorLegitimateInterests() {\n        this.vendorLegitimateInterests.empty();\n    }\n    /**\n     * setAllPurposeConsents - sets all purposes on the GVL Consent (true)\n     *\n     * @return {void}\n     */\n    setAllPurposeConsents() {\n        this.purposeConsents.set(this.gvl.purposes);\n    }\n    /**\n     * unsetAllPurposeConsents - unsets all purposes on the GVL Consent (false)\n     *\n     * @return {void}\n     */\n    unsetAllPurposeConsents() {\n        this.purposeConsents.empty();\n    }\n    /**\n     * setAllPurposeLegitimateInterests - sets all purposes on the GVL LI Transparency (true)\n     *\n     * @return {void}\n     */\n    setAllPurposeLegitimateInterests() {\n        this.purposeLegitimateInterests.set(this.gvl.purposes);\n    }\n    /**\n     * unsetAllPurposeLegitimateInterests - unsets all purposes on the GVL LI Transparency (false)\n     *\n     * @return {void}\n     */\n    unsetAllPurposeLegitimateInterests() {\n        this.purposeLegitimateInterests.empty();\n    }\n    /**\n     * setAllSpecialFeatureOptins - sets all special featuresOptins on the GVL (true)\n     *\n     * @return {void}\n     */\n    setAllSpecialFeatureOptins() {\n        this.specialFeatureOptins.set(this.gvl.specialFeatures);\n    }\n    /**\n     * unsetAllSpecialFeatureOptins - unsets all special featuresOptins on the GVL (true)\n     *\n     * @return {void}\n     */\n    unsetAllSpecialFeatureOptins() {\n        this.specialFeatureOptins.empty();\n    }\n    setAll() {\n        this.setAllVendorConsents();\n        this.setAllPurposeLegitimateInterests();\n        this.setAllSpecialFeatureOptins();\n        this.setAllPurposeConsents();\n        this.setAllVendorLegitimateInterests();\n    }\n    unsetAll() {\n        this.unsetAllVendorConsents();\n        this.unsetAllPurposeLegitimateInterests();\n        this.unsetAllSpecialFeatureOptins();\n        this.unsetAllPurposeConsents();\n        this.unsetAllVendorLegitimateInterests();\n    }\n    get numCustomPurposes() {\n        let len = this.numCustomPurposes_;\n        if (typeof this.customPurposes === 'object') {\n            /**\n             * Keys are not guaranteed to be in order and likewise there is no\n             * requirement that the customPurposes be non-sparse.  So we have to sort\n             * and take the highest value.  Even if the set only contains 3 purposes\n             * but goes to ID 6 we need to set the number to 6 for the encoding to\n             * work properly since it's positional.\n             */\n            const purposeIds = Object.keys(this.customPurposes)\n                .sort((a, b) => Number(a) - Number(b));\n            len = parseInt(purposeIds.pop(), 10);\n        }\n        return len;\n    }\n    set numCustomPurposes(num) {\n        this.numCustomPurposes_ = parseInt(num, 10);\n        if (this.numCustomPurposes_ < 0) {\n            throw new TCModelError('numCustomPurposes', num);\n        }\n    }\n    /**\n     * updated - updates the created and lastUpdated dates with a 'now' day-level UTC timestamp\n     *\n     * @return {void}\n     */\n    updated() {\n        const date = new Date();\n        const utcDate = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate()));\n        this.created = utcDate;\n        this.lastUpdated = utcDate;\n    }\n}\n","import { Base64Url, BitLength, SegmentEncoder, SegmentSequence, SemanticPreEncoder, } from './encoder/index.js';\nimport { SegmentIDs } from './model/index.js';\nimport { IntEncoder } from './encoder/field/IntEncoder.js';\nimport { TCModel } from './TCModel.js';\n/**\n * Main class for encoding and decoding a\n * TCF Transparency and Consent String\n */\nexport class TCString {\n    /**\n     * encodes a model into a TCString\n     *\n     * @param {TCModel} tcModel - model to convert into encoded string\n     * @param {EncodingOptions} options - for encoding options other than default\n     * @return {string} - base64url encoded Transparency and Consent String\n     */\n    static encode(tcModel, options) {\n        let out = '';\n        let sequence;\n        tcModel = SemanticPreEncoder.process(tcModel, options);\n        /**\n           * If they pass in a special segment sequence.\n           */\n        if (Array.isArray(options?.segments)) {\n            sequence = options.segments;\n        }\n        else {\n            sequence = new SegmentSequence(tcModel, options)['' + tcModel.version];\n        }\n        sequence.forEach((segment, idx) => {\n            let dotMaybe = '';\n            if (idx < sequence.length - 1) {\n                dotMaybe = '.';\n            }\n            out += SegmentEncoder.encode(tcModel, segment) + dotMaybe;\n        });\n        return out;\n    }\n    /**\n     * Decodes a string into a TCModel\n     *\n     * @param {string} encodedTCString - base64url encoded Transparency and\n     * Consent String to decode - can also be a single or group of segments of\n     * the string\n     * @param {string} [tcModel] - model to enhance with the information.  If\n     * none is passed a new instance of TCModel will be created.\n     * @return {TCModel} - Returns populated TCModel\n     */\n    static decode(encodedTCString, tcModel) {\n        const segments = encodedTCString.split('.');\n        const len = segments.length;\n        if (!tcModel) {\n            tcModel = new TCModel();\n        }\n        for (let i = 0; i < len; i++) {\n            const segString = segments[i];\n            /**\n             * first char will contain 6 bits, we only need the first 3. In version 1\n             * and 2 of the TC string there is no segment type for the CORE string.\n             * Instead the first 6 bits are reserved for the encoding version, but\n             * because we're only on a maximum of encoding version 2 the first 3 bits\n             * in the core segment will evaluate to 0.\n             */\n            const firstChar = Base64Url.decode(segString.charAt(0));\n            const segTypeBits = firstChar.substr(0, BitLength.segmentType);\n            const segment = SegmentIDs.ID_TO_KEY[IntEncoder.decode(segTypeBits, BitLength.segmentType).toString()];\n            SegmentEncoder.decode(segString, tcModel, segment);\n        }\n        return tcModel;\n    }\n}\n","import { TCString } from \"@iabtcf/core\";\nimport accordion from \"./templates/accordion.njk\";\nimport tabledata from \"./templates/tabledata.njk\";\nimport results from \"./templates/results.njk\";\n\nfunction getConsentString() {\n  const consentStringInput = document\n    .getElementById(\"consentstringinput\")\n    .value.trim();\n  try {\n    const decodedString = TCString.decode(consentStringInput);\n    processConsentString(decodedString);\n  } catch (error) {\n    console.log(error);\n    alert(\"Invalid consent string\");\n    return;\n  }\n}\n\nfunction processConsentString(decodedString) {\n  console.log(decodedString);\n  addResultHtmlWrapper();\n\n  for (let key in decodedString) {\n    if (decodedString.hasOwnProperty(key)) {\n      if (!shouldShowToUser(key)) {\n        continue;\n      }\n\n      if (\n        typeof decodedString[key] !== \"object\" ||\n        key == \"created\" ||\n        key == \"lastUpdated\"\n      ) {\n        addResult(key, decodedString[key]);\n      } else if (typeof decodedString[key] == \"object\") {\n        addListResult(key, decodedString[key]);\n      }\n    }\n  }\n}\n\nfunction addResultHtmlWrapper() {\n  var resultsHtmlWrapper = results();\n\n  document.getElementById(\"result\").innerHTML = resultsHtmlWrapper;\n}\n\nfunction addResult(key, value) {\n  console.log(key);\n\n  var tableDataHtml = tabledata({\n    key: key,\n    value: value,\n  });\n\n  var nodeToInsert = document.createElement(\"tr\");\n  nodeToInsert.classList.add(\"mb-3\");\n  nodeToInsert.innerHTML = tableDataHtml;\n\n  document.getElementById(\"tableresult\").appendChild(nodeToInsert);\n}\n\nfunction shouldShowToUser(name) {\n  const namesToShow = {\n    specialFeatureOptins: true,\n    purposeConsents: true,\n    purposeLegitimateInterests: true,\n    vendorConsents: true,\n    vendorLegitimateInterests: true,\n    created: true,\n    lastUpdated: true,\n    cmpId_: true,\n    cmpVersion_: true,\n    consentScreen_: true,\n    consentLanguage_: true,\n    vendorListVersion_: true,\n    policyVersion_: true,\n    isServiceSpecific_: true,\n    useNonStandardStacks_: true,\n    purposeOneTreatment_: true,\n    publisherCountryCode_: true,\n  };\n\n  return namesToShow.hasOwnProperty(name);\n}\n\nfunction addListResult(key, obj) {\n  var tableDataHtml = \"\";\n  obj.forEach((v, i) => {\n    tableDataHtml += tabledata({\n      key: i,\n      value: v,\n    });\n  });\n\n  var fullAccHtml = accordion({\n    tabledata: tableDataHtml,\n    category: key,\n    id: \"Collapse\" + key,\n  });\n\n  const accordionInDom = document.getElementById(\"dataAccordion\");\n\n  var nodeToInsert = document.createElement(\"div\");\n  nodeToInsert.innerHTML = fullAccHtml;\n  accordionInDom.appendChild(nodeToInsert);\n}\n\nconst submitButton = document.getElementById(\"consentstringsubmit\");\nsubmitButton.addEventListener(\"click\", () => {\n  getConsentString();\n});\n"],"names":["factory","self","modules","installedModules","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_require__","ArrayProto","Array","ObjProto","escapeMap","escapeRegex","hasOwnProp","obj","k","lookupEscape","ch","TemplateError","message","lineno","colno","err","cause","getStack","Error","setPrototypeOf","this","writable","value","captureStackTrace","constructor","stackDescriptor","getOwnPropertyDescriptor","stack","firstUpdate","Update","path","msg","isFunction","toString","isArray","isString","isObject","getAttrGetter","attribute","attr","parts","split","item","_item","length","part","toArray","slice","indexOf","arr","searchElement","fromIndex","keys_","push","_prettifyError","withInternals","old","create","escape","val","replace","groupBy","throwOnUndefined","result","iterator","key","undefined","TypeError","without","array","contains","arguments","index","repeat","char_","str","each","func","context","forEach","map","results","asyncIter","iter","cb","next","asyncFor","keys","len","_entries","_values","_assign","extend","obj1","obj2","inOperator","lib","arrayFrom","from","supportsIterators","Symbol","Frame","parent","isolateWrites","variables","topLevel","_proto","set","resolveUp","frame","resolve","id","lookup","forWrite","pop","isKeywordArgs","numArgs","args","SafeString","String","valueOf","makeMacro","argNames","kwargNames","_len","macroArgs","_key","argCount","kwargs","lastArg","getKeywordArgs","arg","apply","makeKeywordArgs","__keywords","suppressValue","autoescape","ensureDefined","memberLookup","_len2","_key2","contextOrFrameLookup","callWrap","handleError","error","copySafeness","dest","target","markSafe","type","ret","asyncEach","dimen","asyncAll","outputArr","finished","done","output","join","_i","fromIterator","_setPrototypeOf","bind","__proto__","PrecompiledLoader","_Loader","subClass","superClass","compiledTemplates","_this","precompiled","getSource","src","EmitterObj","_EmitterObj","Loader","to","dirname","isRelative","filename","_defineProperties","props","descriptor","input","hint","prim","toPrimitive","res","_toPrimitive","_createClass","Constructor","protoProps","staticProps","_inheritsLoose","EventEmitter","extendClass","cls","prop","tmp","subclass","_cls","Obj","init","_EventEmitter","_this2","e","_require","Environment","Template","loaders","precompile","compiler","parser","lexer","runtime","nodes","installJinjaCompat","configure","templatesPath","opts","TemplateLoader","FileSystemLoader","watch","noCache","WebLoader","useCache","web","async","express","NodeResolveLoader","reset","compile","env","eagerCompile","render","ctx","renderString","precompileString","asap","_waterfall","filters","tests","globals","_require2","globalRuntime","expressApp","callbackAsap","noopTmplSrc","root","dev","trimBlocks","lstripBlocks","window","nunjucksPrecompiled","unshift","_initLoaders","asyncFilters","extensions","extensionsList","_ref","filter","addFilter","_ref2","test","addTest","loader","cache","on","fullname","emit","source","invalidateCache","addExtension","extension","__name","removeExtension","getExtension","hasExtension","addGlobal","getGlobal","wrapped","getFilter","getTest","resolveTemplate","parentName","getTemplate","ignoreMissing","syncResult","_this3","that","tmpl","raw","handle","info","newTmpl","app","waterfall","tasks","callback","forceAsync","Context","_Obj","_proto2","blocks","_this4","exported","addBlock","setVariable","getVariables","block","getBlock","getSuper","idx","blk","addExport","getExported","_this5","_Obj2","_proto3","tmplProps","tmplStr","_compile","compiled","parentFrame","_this6","didError","rootRenderFunc","Function","_getBlocks","rawAsap","freeTasks","pendingErrors","requestErrorThrow","makeRequestCallFromTimer","shift","task","rawTask","RawTask","onerror","global","queue","requestFlush","flush","currentIndex","scan","newLength","toggle","observer","node","scope","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","timeoutHandle","setTimeout","handleTimer","intervalHandle","setInterval","clearTimeout","clearInterval","document","createTextNode","observe","characterData","data","g","eval","__WEBPACK_AMD_DEFINE_RESULT__","executeSync","splice","executeAsync","fn","setImmediate","process","nextTick","_isArray","maybeArray","wrapIterator","makeCallback","makeIterator","r","normalize","defaultValue","isNaN","num","capitalize","toLowerCase","charAt","toUpperCase","list","getSelectOrReject","expectedTestResult","testName","secondArg","trim","abs","Math","batch","linecount","fillWith","center","width","spaces","pre","post","def","bool","dictsort","caseSensitive","by","si","sort","t1","t2","a","b","dump","JSON","stringify","safe","first","forceescape","groupby","indent","indentfirst","lines","sp","del","v","last","Map","Set","size","lower","nl2br","random","floor","reject","rejectattr","select","selectattr","new_","maxCount","originalStr","RegExp","nextIndex","pos","count","substring","reverse","round","precision","method","factor","pow","ceil","slices","sliceLength","extra","offset","start","end","currSlice","sum","reduce","reversed","caseSens","getAttribute","x","y","string","striptags","preserveLinebreaks","trimmedInput","title","words","word","truncate","killwords","orig","lastIndexOf","upper","urlencode","enc","encodeURIComponent","puncRe","emailRe","httpHttpsRe","wwwRe","tldRe","urlize","nofollow","Infinity","noFollowAttr","matches","match","possibleUrl","shortUrl","substr","wordcount","float","parseFloat","intFilter","base","parseInt","int","default","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","once","emitter","Promise","errorListener","removeListener","resolver","eventTargetAgnosticAddListener","handler","flags","addErrorHandlerIfEventEmitter","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","_addListener","prepend","events","existing","warning","newListener","warned","w","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","copy","addEventListener","wrapListener","removeEventListener","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","er","listeners","addListener","prependListener","prependOnceListener","position","originalListener","spliceOne","off","removeAllListeners","rawListeners","eventNames","callable","defined","divisibleby","one","two","escaped","equalto","eq","sameas","even","falsy","ge","greaterthan","gt","le","lessthan","lt","ne","null","number","odd","truthy","iterable","mapping","range","stop","step","cycler","items","current","joiner","sep","_joiner","NunjucksView","defaultEngine","ext","extname","orig_Compiler_assertType","orig_Parser_parseAggregate","Compiler","Parser","orig_contextOrFrameLookup","orig_memberLookup","sliceLookup","assertType","parseAggregate","ARRAY_MEMBERS","append","element","remove","find","insert","elem","OBJECT_MEMBERS","values","has_key","popitem","setdefault","update","iteritems","itervalues","iterkeys","WebpackPrecompiledLoader","__nunjucks_module_dependencies__","nunjucksTemplate","templateContext","__nunjucks_loader_assets__","assets","nunjucks","isAsync","renderAsync","templates","__nunjucks_precompiled_template__","options","jinjaCompat","_nunjucksSlim","_WebpackPrecompiledLoader","globalName","extensionName","filterName","response","isAsyncTemplate","some","__webpack_module_cache__","cachedModule","__webpack_modules__","definition","EncodingError","super","DecodingError","Base64Url","static","encode","padding","LCM","BASIS","DICT","decode","strBits","REVERSE_DICT","ConsentLanguages","has","langSet","Fields","Cloneable","clone","myClone","deepClone","itsType","Date","getTime","ar","subItem","retr","TCModelError","fieldName","passedValue","RestrictionType","DeviceDisclosureStorageAccessType","Segment","VectorEncodingType","PurposeRestriction","purposeId_","restrictionType","purposeId","unHash","hash","splitUp","hashSeparator","purpRestriction","isValid","idNum","isInteger","NOT_ALLOWED","REQUIRE_CONSENT","REQUIRE_LI","isSameAs","otherPR","BinarySearchTree","getRoot","isEmpty","add","left","right","min","max","parentSide","minVal","build","tree","rootIndex","rightTree","leftTree","PurposeRestrictionVector","bitLength","gvl_","isOkToHave","vendorId","gvl","vendors","vendor","legIntPurposes","includes","purposes","flexiblePurposes","purposeRestriction","restrictPurposeToLegalBasis","vendorIds","lastEntry","getVendors","vendorSet","bst","getRestrictionType","rType","getRestrictions","vendorHasRestriction","restrictions","getMaxVendorId","getPurposes","purposeIds","delete","numRestrictions","SegmentIDs","CORE","VENDORS_DISCLOSED","VENDORS_ALLOWED","PUBLISHER_TC","Vector","maxId_","set_","maxId","unset","strId","isIntMap","every","itemResult","isValidNumber","isSet","empty","setAll","intMap","BitLength","cmpId","cmpVersion","consentLanguage","consentScreen","created","isServiceSpecific","lastUpdated","policyVersion","publisherCountryCode","publisherLegitimateInterests","publisherConsents","purposeConsents","purposeLegitimateInterests","purposeOneTreatment","specialFeatureOptins","useNonStandardStacks","vendorListVersion","version","BooleanEncoder","IntEncoder","numBits","bitString","DateEncoder","date","setTime","FixedVectorEncoder","vector","LangEncoder","firstLetter","charCodeAt","secondLetter","ASCII_START","mid","fromCharCode","PurposeRestrictionVectorEncoder","prVector","numEntries","startId","rangeField","lastVendorId","gvlVendorIds","nextGvlVendor","isRange","encodedString","j","isARange","anyBoolean","startOrOnlyVendorId","endVendorId","VendorVectorEncoder","ranges","rangeIsSmaller","retrString","bitField","headerLength","encodingType","bitFieldLength","minRangeLength","singleOrRange","rangeLength","curValue","RANGE","buildRangeEncoding","FIELD","isIdRange","firstId","secondId","rangeString","single","FieldEncoderMap","vendorConsents","vendorLegitimateInterests","publisherRestrictions","segmentType","vendorsDisclosed","vendorsAllowed","numCustomPurposes","publisherCustomConsents","publisherCustomLegitimateInterests","FieldSequence","SegmentSequence","tcModel","isForVendors","supportOOB","SegmentEncoder","segment","sequence","fieldSequence","KEY_TO_ID","fieldEncoderMap","encoder","isPublisherCustom","bStringIdx","bits","SemanticPreEncoder","vectorToIntMap","gvlVendorKey","deletedDate","isReady","language","processor","processorFunctionIndex","GVLError","Json","absCall","url","body","sendCookies","timeout","req","XMLHttpRequest","withCredentials","readyState","DONE","status","parse","responseType","open","ontimeout","send","fetch","GVL","baseUrl","baseUrl_","readyPromise","gvlSpecificationVersion","tcfPolicyVersion","specialPurposes","features","specialFeatures","isReady_","vendors_","fullVendorList","byPurposeVendorMap","bySpecialPurposeVendorMap","byFeatureVendorMap","bySpecialFeatureVendorMap","stacks","lang_","isLatest","versionOrVendorList","DEFAULT_LANGUAGE","isVendorList","populate","CACHE","versionedFilename","fetchJson","LATEST_CACHE_KEY","latestFilename","emptyLanguageCache","lang","LANGUAGE_CACHE","consentLanguages","emptyCache","cacheLanguage","getJson","changeLanguage","langUpper","cached","languageFilename","gvlObject","mapVendors","legInt","consent","flexible","featureId","vId","getFilteredVendors","purposeOrFeature","subType","special","properPurposeOrFeature","getVendorsWithConsentPurpose","getVendorsWithLegIntPurpose","getVendorsWithFlexiblePurpose","getVendorsWithSpecialPurpose","specialPurposeId","getVendorsWithFeature","getVendorsWithSpecialFeature","specialFeatureId","narrowVendorsTo","isInstanceOf","questionableInstance","TCModel","isServiceSpecific_","supportOOB_","useNonStandardStacks_","purposeOneTreatment_","publisherCountryCode_","version_","consentScreen_","policyVersion_","consentLanguage_","cmpId_","cmpVersion_","vendorListVersion_","numCustomPurposes_","customPurposes","updated","integer","countryCode","setAllVendorConsents","unsetAllVendorConsents","setAllVendorsDisclosed","unsetAllVendorsDisclosed","setAllVendorsAllowed","unsetAllVendorsAllowed","setAllVendorLegitimateInterests","unsetAllVendorLegitimateInterests","setAllPurposeConsents","unsetAllPurposeConsents","setAllPurposeLegitimateInterests","unsetAllPurposeLegitimateInterests","setAllSpecialFeatureOptins","unsetAllSpecialFeatureOptins","unsetAll","utcDate","UTC","getUTCFullYear","getUTCMonth","getUTCDate","TCString","out","segments","dotMaybe","encodedTCString","segString","segTypeBits","ID_TO_KEY","getConsentString","consentStringInput","getElementById","decodedString","log","resultsHtmlWrapper","innerHTML","_typeof","addResult","addListResult","processConsentString","alert","tableDataHtml","tabledata","nodeToInsert","createElement","classList","appendChild","fullAccHtml","accordion","category","accordionInDom"],"sourceRoot":""}